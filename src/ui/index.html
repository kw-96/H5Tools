<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>渠道美术-H5延展工具</title>

  <!-- 样式文件 - 外部CDN版本 -->
  {{EXTERNAL_CSS_LINK}}

</head>
<body>
  <!-- SVG Sprite 定义 -->
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="icon-chevron" viewBox="0 0 16 11">
      <path d="M0.130121 2.33086L7.44223 9.90667C7.67195 10.1374 8.03601 10.151 8.28153 9.94739L8.32611 9.90667L15.8682 2.3312C15.8992 2.29996 15.9167 2.25768 15.9167 2.21361V0.910808C15.9167 0.81876 15.8421 0.744141 15.75 0.744141C15.7057 0.744141 15.6632 0.7618 15.6319 0.793213L7.90908 8.54978L0.369491 0.801243C0.3053 0.735272 0.199782 0.73383 0.133811 0.798022C0.101565 0.829398 0.083374 0.87248 0.083374 0.917472V2.21512C0.083374 2.2583 0.100133 2.29979 0.130121 2.33086Z"/>
    </symbol>
    <symbol id="icon-move-up" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z"/>
    </symbol>
    <symbol id="icon-move-down" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z"/>
    </symbol>
    <symbol id="icon-delete" viewBox="0 0 16 16">
      <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
      <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
    </symbol>
  </svg>

  <!-- 主容器 -->
  <div class="container">
    <!-- 标签页容器 -->
    <div class="tab-container">
      <!-- 创建原型标签页 -->
      <div class="tab active" data-tab="prototype">
        <span class="tab-bar__icon">
          <svg width="24" height="24" viewBox="0 0 1024 1024" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M436.992 140.288a153.7024 153.7024 0 0 1 146.5856 0l9.6256 5.632 352.6144 226.2528a51.2 51.2 0 0 1-55.296 86.1696L870.4 445.44V870.4a51.2 51.2 0 0 1-51.2 51.2H204.8a51.2 51.2 0 0 1-51.2-51.2V443.1872l-23.552 15.1552-4.5568 2.6112a51.2 51.2 0 0 1-54.9888-85.76l4.2496-3.072 352.6144-226.1504 9.6256-5.7344zM409.6 716.8a51.2 51.2 0 1 0 0 102.4h204.8a51.2 51.2 0 1 0 0-102.4H409.6z"/></svg>
        </span>
        <span class="tab-label">创建原型</span>
      </div>

      <!-- 延展渠道标签页 -->
      <div class="tab" data-tab="extension">
        <span class="tab-bar__icon">
          <svg width="24" height="24" viewBox="0 0 1024 1024" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M955.6992 54.272c-16.7936-8.3968-33.536-8.3968-41.9328 0L75.9808 473.088c-16.7424 0-25.1392 16.7424-25.1392 33.536 0 16.7424 8.3968 33.4848 16.7424 33.4848l201.0624 125.6448c16.7936 8.3968 33.536 8.3968 50.2784-8.3456l444.0576-402.1248 16.7424 8.3456-402.1248 427.3152c-8.3968 8.3456-8.3968 16.7424-8.3968 25.088v184.32a46.08 46.08 0 0 0 25.1392 41.8816c16.7424 8.3968 33.536 0 41.8816-8.3456l100.5568-100.5568 201.0624 134.0928c8.3968 8.3456 16.7424 8.3456 25.1392 8.3456h16.7424c16.7936-8.3456 25.1392-16.7424 25.1392-33.4848L972.4416 104.448c0-25.088 0-41.8816-16.7424-50.2784z"/></svg>
        </span>
        <span class="tab-label">延展渠道</span>
      </div>

      <!-- 工具集标签页 -->
      <div class="tab" data-tab="tools">
        <span class="tab-bar__icon">
          <svg width="24" height="24" viewBox="0 0 1024 1024" fill="currentColor" stroke="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M628.5312 579.6864h207.9232a92.672 92.672 0 0 1 92.7232 92.672v207.7696c0 24.7296-9.7792 47.7696-27.0848 65.6384a92.8768 92.8768 0 0 1-65.6384 27.0336h-207.9232c-24.7808 0-47.8208-9.7792-65.6384-27.0336a92.7744 92.7744 0 0 1-27.136-65.6384v-207.7696c0-24.7296 9.8304-47.7696 27.136-65.5872 17.8176-17.3056 41.472-27.0848 65.6384-27.0848z m-276.992-92.672H143.5136c-24.7296 0-47.7696-9.728-65.6384-27.0336a92.416 92.416 0 0 1-27.0848-65.024v-208.384c0-24.7296 9.7792-47.7696 27.0848-65.5872a92.8768 92.8768 0 0 1 65.6384-27.0848h207.9232a92.672 92.672 0 0 1 92.7232 92.672v207.7696c0 24.7808-9.728 47.7696-27.0336 65.6384-17.92 17.2544-41.472 27.0336-65.6896 27.0336z m0 485.2224H143.5136c-24.7296 0-47.7696-9.7792-65.6384-27.0848a90.368 90.368 0 0 1-27.0848-65.5872V671.744c0-24.7808 9.7792-47.7696 27.0848-65.6384a92.8768 92.8768 0 0 1 65.6384-27.0336h207.9232a92.672 92.672 0 0 1 92.7232 92.672v207.7696c0 24.7296-9.728 47.7696-27.0336 65.5872-17.92 17.3056-41.472 27.0848-65.6896 27.0848z m593.7664-616.448l-146.8928 146.7904a92.16 92.16 0 0 1-130.7136 0l-147.456-146.7904a92.0576 92.0576 0 0 1 0-130.6624l146.8928-146.7392a92.16 92.16 0 0 1 130.7136 0l146.8928 146.7392c36.864 36.3008 36.864 94.976 0.5632 130.6624z"/></svg>
        </span>
        <span class="tab-label">工具集</span>
      </div>
      
      <!-- 设置标签页 -->
      <div class="tab" data-tab="settings">
        <span class="tab-bar__icon">
          <svg width="24" height="24" viewBox="0 0 1024 1024" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M421.7856 60.5696c-11.264 2.56-18.432 13.312-18.432 25.088a137.6256 137.6256 0 0 1-68.608 119.296 137.5232 137.5232 0 0 1-138.24-0.512 27.4432 27.4432 0 0 0-33.28 6.144 464.7424 464.7424 0 0 0-87.04 151.552c-3.584 11.264 0.512 24.064 10.752 29.696 41.984 24.064 70.656 68.608 70.656 120.32a136.7552 136.7552 0 0 1-70.144 119.808c-10.752 5.632-14.848 18.944-11.264 29.696a464.7424 464.7424 0 0 0 87.04 151.552c8.192 9.216 22.528 12.8 33.28 6.144a138.8032 138.8032 0 0 1 138.24 0 137.6256 137.6256 0 0 1 68.608 119.296c0 11.776 7.168 22.528 18.432 25.088 29.5936 6.144 59.8016 9.2672 90.112 9.216 30.72 0 60.928-3.584 90.112-9.216 11.264-2.56 18.432-13.312 18.432-25.088 0-47.616 24.576-94.208 68.608-119.808a137.5744 137.5744 0 0 1 138.24 0.512c10.752 6.144 25.088 3.072 33.28-6.144a464.64 464.64 0 0 0 87.04-151.552c3.584-11.264-0.512-24.064-10.752-29.696a136.704 136.704 0 0 1-70.144-119.808c0-51.712 28.16-96.256 70.144-119.808a24.4736 24.4736 0 0 0 10.752-29.696 464.64 464.64 0 0 0-87.04-151.552c-8.192-9.216-22.528-12.8-33.28-6.144a137.5232 137.5232 0 0 1-138.24 0.512 138.4448 138.4448 0 0 1-68.608-119.808c0-11.776-7.168-22.528-18.432-25.088a437.4016 437.4016 0 0 0-90.112-9.216c-30.72 0-60.928 3.072-90.112 9.216z m227.84 451.584a137.728 137.728 0 0 1-275.456 0 138.0864 138.0864 0 0 1 190.464-127.3344 137.4208 137.4208 0 0 1 84.992 127.3344z"/></svg>
        </span>
        <span class="tab-label">设置</span>
      </div>
    </div>

    <!-- 创建原型内容 -->
    <div class="tab-content active" id="prototype-content">
      <!-- 页面基础设置板块 -->
      <div class="form-section">
        <div class="form-group row-layout">
          <label class="non-interactive-label">页面底色</label>
          <div class="color-input-group">
            <input type="color" id="pageColor" value="#FFFFFF" title="选择页面底色" aria-label="页面底色选择器">
            <input type="text" class="color-value" value="#FFFFFF" maxlength="7" title="页面底色十六进制值" aria-label="页面底色色值输入框" placeholder="#FFFFFF">
          </div>
        </div>
        
        <div class="form-group row-layout">
          <label class="non-interactive-label">页面背景</label>
          <div class="file-upload-btn">
            <input type="file" id="pageBackground" accept="image/*" class="hidden-file-input" onchange="previewImage(this, this.nextElementSibling.querySelector('.img-preview-inline'))" title="选择页面背景图片" aria-label="页面背景图片上传">
            <button class="upload-btn" onclick="document.getElementById('pageBackground').click()" title="上传页面背景图片" aria-label="上传页面背景图片">
              <div class="img-preview-inline">
                <span class="upload-icon-inline">+</span>
              </div>
            </button>
          </div>
        </div>
      </div>
      
      <!-- 头图板块 -->
      <div class="form-section">
        <!-- 头图 -->
        <div class="form-group row-layout">
          <label class="non-interactive-label">头图</label>
          <div class="file-upload-btn">
            <input type="file" id="headerImage" accept="image/*" class="hidden-file-input" title="选择头图" aria-label="头图上传">
            <button class="upload-btn" onclick="document.getElementById('headerImage').click()" title="上传头图" aria-label="上传头图">
              <div class="img-preview-inline">
                <span class="upload-icon-inline">+</span>
              </div>
            </button>
          </div>
        </div>
    
        <!-- 标题 -->
        <div class="form-group row-layout">
          <label class="non-interactive-label">标题</label>
          <div class="file-upload-btn">
            <input type="file" id="titleUpload" accept="image/*" class="hidden-file-input" onchange="previewImage(this, this.nextElementSibling.querySelector('.img-preview-inline'))" title="选择标题图片" aria-label="标题图片上传">
            <button class="upload-btn" onclick="document.getElementById('titleUpload').click()" title="上传标题图片" aria-label="上传标题图片">
              <div class="img-preview-inline">
                <span class="upload-icon-inline">+</span>
              </div>
            </button>
          </div>
        </div>
      </div>
      
      <!-- 游戏信息板块 -->
      <div class="form-section">
        <!-- 游戏信息板块标题 -->
        <div class="section-header">
          <div class="dropdown-selector">
            <select id="buttonVersionSelect" class="section-dropdown" title="选择游戏信息版本" aria-label="游戏信息版本选择器">
              <option value="imageButton">游戏信息-带icon版</option>
              <option value="singleButton">游戏信息-单按钮版</option>
              <option value="doubleButton">游戏信息-双按钮版</option>
            </select>
          </div>
          <div class="option-controls">
            <button class="control-btn collapse-btn" data-target="buttonVersionContent" title="折叠/展开游戏信息板块" aria-label="折叠/展开游戏信息板块">
              <svg width="12" height="7" class="chevron-icon">
                <use href="#icon-chevron"/>
              </svg>
            </button>
          </div>
        </div>
        
        <!-- 按钮内容容器 -->
        <div id="buttonVersionContent" class="collapsible-content">
          <!-- 游戏icon版内容 (默认显示) -->
          <div class="version-content active" id="imageButtonContent">
            <div class="form-group row-layout">
              <label class="non-interactive-label">游戏icon</label>
              <div class="img-upload-wrapper">
                <input type="file" id="gameIconUpload" accept="image/*" class="game-icon-upload hidden-file-input" title="选择游戏icon" aria-label="游戏icon上传">
                <div class="img-preview-btn" onclick="document.getElementById('gameIconUpload').click()">
                  <div class="img-preview-container" id="gameIconPreview">
                    <span class="upload-icon-text">+</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="form-group row-layout">
              <label for="gameNameInput">游戏名称</label>
              <input type="text" id="gameNameInput" class="text-input" placeholder="请输入游戏名称">
            </div>

            <div class="form-group row-layout">
              <label for="gameCopyInput">游戏描述</label>
              <textarea id="gameCopyInput" class="text-area" placeholder="请输入游戏宣传文案"></textarea>
            </div>
            
            <div class="form-group row-layout">
              <label class="non-interactive-label">文案颜色</label>
              <div class="color-input-group">
                <input type="color" id="gameCopyTextColor" value="#FFFFFF" title="选择游戏文案颜色" aria-label="游戏文案颜色选择器">
                <input type="text" class="color-value" value="#FFFFFF" maxlength="7" title="游戏文案颜色十六进制值" aria-label="游戏文案颜色色值输入框" placeholder="#FFFFFF">
              </div>
            </div>

            <div class="form-group row-layout">
              <label for="iconButtonText">按钮文本</label>
              <input type="text" id="iconButtonText" class="text-input" placeholder="请输入按钮文案" value="立即下载">
            </div>

            <div class="form-group row-layout">
              <label class="non-interactive-label">文本颜色</label>
              <div class="color-input-group">
                <input type="color" id="iconButtonTextColor" value="#FFFFFF" title="选择按钮文本颜色" aria-label="按钮文本颜色选择器">
                <input type="text" class="color-value" value="#FFFFFF" maxlength="7" title="按钮文本颜色十六进制值" aria-label="按钮文本颜色色值输入框" placeholder="#FFFFFF">
              </div>
            </div>

            <div class="form-group row-layout">
              <label class="non-interactive-label">按钮底</label>
              <div class="file-upload-btn">
                <input type="file" id="iconButtonBgUpload" accept="image/*" class="hidden-file-input" onchange="previewImage(this, this.nextElementSibling.querySelector('.img-preview-inline'))" title="选择按钮背景图片" aria-label="按钮背景图片上传">
                <button class="upload-btn" onclick="document.getElementById('iconButtonBgUpload').click()" title="上传按钮背景图片" aria-label="上传按钮背景图片">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>

          </div>
          
          <!-- 单按钮版内容 -->
          <div class="version-content" id="singleButtonContent">

            <div class="form-group row-layout">
              <label for="singleButtonText">按钮文本</label>
              <input type="text" id="singleButtonText" class="text-input" placeholder="请输入按钮文案" value="立即下载">
            </div>

            <div class="form-group row-layout">
              <label class="non-interactive-label">文本颜色</label>
              <div class="color-input-group">
                <input type="color" id="singleButtonTextColor" value="#FFFFFF" title="选择单按钮文本颜色" aria-label="单按钮文本颜色选择器">
                <input type="text" class="color-value" value="#FFFFFF" maxlength="7" title="单按钮文本颜色十六进制值" aria-label="单按钮文本颜色色值输入框" placeholder="#FFFFFF">
              </div>
            </div>

            <div class="form-group row-layout">
              <label class="non-interactive-label">按钮底</label>
              <div class="file-upload-btn">
                <input type="file" id="singleButtonBgUpload" accept="image/*" class="hidden-file-input" title="选择单按钮背景图片" aria-label="单按钮背景图片上传">
                <button class="upload-btn" onclick="document.getElementById('singleButtonBgUpload').click()" title="上传单按钮背景图片" aria-label="上传单按钮背景图片">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
          </div>
          
          <!-- 双按钮版内容 -->
          <div class="version-content" id="doubleButtonContent">

            <div class="form-group row-layout">
              <label for="leftButtonText">左侧按钮文本</label>
              <input type="text" id="leftButtonText" class="text-input" placeholder="请输入按钮文案" value="左侧按钮">
            </div>

            <div class="form-group row-layout">
              <label class="non-interactive-label">文本颜色</label>
              <div class="color-input-group">
                <input type="color" id="leftButtonTextColor" value="#FFFFFF" title="选择左侧按钮文本颜色" aria-label="左侧按钮文本颜色选择器">
                <input type="text" class="color-value" value="#FFFFFF" maxlength="7" title="左侧按钮文本颜色十六进制值" aria-label="左侧按钮文本颜色色值输入框" placeholder="#FFFFFF">
              </div>
            </div>

            <div class="form-group row-layout">
              <label class="non-interactive-label">左侧按钮底</label>
              <div class="file-upload-btn">
                <input type="file" id="leftButtonBgUpload" accept="image/*" class="hidden-file-input" title="选择左侧按钮背景图片" aria-label="左侧按钮背景图片上传">
                <button class="upload-btn" onclick="document.getElementById('leftButtonBgUpload').click()" title="上传左侧按钮背景图片" aria-label="上传左侧按钮背景图片">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>

            <div class="form-group row-layout">
              <label for="rightButtonText">右侧按钮文本</label>
              <input type="text" id="rightButtonText" class="text-input" placeholder="请输入按钮文案" value="右侧按钮">
            </div>

            <div class="form-group row-layout">
              <label class="non-interactive-label">文本颜色</label>
              <div class="color-input-group">
                <input type="color" id="rightButtonTextColor" value="#FFFFFF" title="选择右侧按钮文本颜色" aria-label="右侧按钮文本颜色选择器">
                <input type="text" class="color-value" value="#FFFFFF" maxlength="7" title="右侧按钮文本颜色十六进制值" aria-label="右侧按钮文本颜色色值输入框" placeholder="#FFFFFF">
              </div>
            </div>
            
            <div class="form-group row-layout">
              <label class="non-interactive-label">右侧按钮底</label>
              <div class="file-upload-btn">
                <input type="file" id="rightButtonBgUpload" accept="image/*" class="hidden-file-input" title="选择右侧按钮背景图片" aria-label="右侧按钮背景图片上传">
                <button class="upload-btn" onclick="document.getElementById('rightButtonBgUpload').click()" title="上传右侧按钮背景图片" aria-label="上传右侧按钮背景图片">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
            
            <div class="form-group row-layout">
              <label for="btnSpacing">按钮间距</label>
              <input type="number" id="btnSpacing" value="10" min="0" max="50" class="number-input">
            </div>
          </div>
          
        </div>
      </div>

      <!-- 模块管理区域 -->
      <div class="form-section module-management">
        <!-- 模块选择和添加区域 -->
        <div class="section-header">
          <span class="section-title">自定义模块</span>
        </div>
        <div class="module-selection-content">
          <div class="form-group row-layout">
            <label for="moduleTypeSelect">模块类型</label>
            <div class="dropdown-selector-wide">
            <select id="moduleTypeSelect" class="section-dropdown">
              <option value="">请选择模块类型</option>
              <option value="lotteryModule">九宫格抽奖</option>
              <option value="signInModule">签到模块</option>
              <option value="collectModule">集卡模块</option>
              <option value="activityContentModule">活动详情</option>
              <option value="carouselModule">图片轮播（横版）</option>
              <option value="verticalCarouselModule">图片轮播（竖版）</option>
            </select>
            </div>
          </div>
          <div class="form-group row-layout module-action-row">
            <button id="addModuleBtn" class="action-btn add-module-btn">
              添加模块
            </button>
          </div>
        </div>
        
        <!-- 已添加模块列表 -->
        <div class="module-list-header">
          <span>已添加模块</span>
          <div class="module-count"><span id="moduleCounter">0</span> 个模块</div>
        </div>
        
        <div id="modulesContainer">
          <!-- 模块将动态添加到此处 -->
          <div class="empty-modules-message" id="emptyModulesMessage">
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" viewBox="0 0 16 16" style="margin-bottom: 16px; opacity: 0.5;">
              <path d="M7.752.066a.5.5 0 0 1 .496 0l3.75 2.143a.5.5 0 0 1 .252.434v3.995l3.498 2A.5.5 0 0 1 16 9.07v4.286a.5.5 0 0 1-.252.434l-3.75 2.143a.5.5 0 0 1-.496 0l-3.502-2-3.502 2a.5.5 0 0 1-.496 0l-3.75-2.143A.5.5 0 0 1 0 13.357V9.071a.5.5 0 0 1 .252-.434L3.75 6.638V2.643a.5.5 0 0 1 .252-.434L7.752.066ZM4.25 7.504 1.508 9.071l2.742 1.567 2.742-1.567L4.25 7.504ZM7.5 9.933l-2.75 1.571v3.134l2.75-1.571V9.933Zm1 3.134 2.75 1.571v-3.134L8.5 9.933v3.134Zm.508-3.996 2.742 1.567 2.742-1.567-2.742-1.567-2.742 1.567Zm2.242-2.433V3.504L8.5 5.076V8.21l2.75-1.572ZM7.5 8.21V5.076L4.75 3.504v3.134L7.5 8.21ZM5.258 2.643 8 4.21l2.742-1.567L8 1.076 5.258 2.643ZM15 9.933l-2.75 1.571v3.134L15 13.067V9.933ZM3.75 14.638v-3.134L1 9.933v3.134l2.75 1.571Z"/>
            </svg>
            <p>尚未添加任何模块</p>
            <p class="hint-text">请从上方选择模块类型并添加</p>
          </div>
        </div>
      </div>

      <!-- 模块模板库 (隐藏) -->
      <div id="moduleTemplates" class="visually-hidden">
        <!-- 固定模块-九宫格抽奖模板 -->
        <div class="module-template" id="lotteryModuleTemplate">
          <div class="module-header">
            <div class="module-title">九宫格抽奖</div>
            <div class="module-controls">
              <button class="control-btn move-up-btn" title="上移">
                <svg width="14" height="14" fill="currentColor">
                  <use href="#icon-move-up"/>
                </svg>
              </button>
              <button class="control-btn move-down-btn" title="下移">
                <svg width="14" height="14" fill="currentColor">
                  <use href="#icon-move-down"/>
                </svg>
              </button>
              <button class="control-btn collapse-btn" title="展开/收起">
                <svg width="14" height="14" fill="currentColor">
                  <use href="#icon-chevron"/>
                </svg>
              </button>
              <button class="control-btn delete-btn" title="删除">
                <svg width="14" height="14" fill="currentColor">
                  <use href="#icon-delete"/>
                </svg>
              </button>
            </div>
          </div>
          <div class="module-content">
            <!-- 大标题 -->
            <div class="form-group row-layout">
              <label for="bigTitleInput">大标题</label>
              <input type="text" id="bigTitleInput" class="text-input big-title-input" placeholder="请输入大标题文本">
            </div>
            
            <!-- 标题背景 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">大标题背景</label>
              <div class="file-upload-btn">
                <input type="file" class="derived-item-upload hidden-file-input" accept="image/*" title="选择大标题背景图片" aria-label="大标题背景图片上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
            
            <!-- 九宫格背景 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">九宫格背景</label>
              <div class="file-upload-btn">
                <input type="file" class="nine-grid-bg hidden-file-input" accept="image/*" title="选择九宫格背景图片" aria-label="九宫格背景图片上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>

            <!-- 抽奖按钮 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">抽奖按钮</label>
              <div class="file-upload-btn">
                <input type="file" class="draw-btn hidden-file-input" accept="image/*" title="选择抽奖按钮图片" aria-label="抽奖按钮图片上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>

            <!-- 奖品背景 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">奖品背景</label>
              <div class="file-upload-btn">
                <input type="file" class="prize-bg hidden-file-input" accept="image/*" title="选择奖品背景图片" aria-label="奖品背景图片上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
            
            <!-- 奖品图 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">奖品图</label>
              <div class="prize-grid-custom">
                <!-- 第一行：3个奖品 -->
                <div class="prize-row top-row">
                  <div class="grid-item">
                    <div class="img-upload-container">
                      <input type="file" accept="image/*" class="prize-upload hidden-file-input" title="选择奖品01图片" aria-label="奖品01图片上传" onchange="previewImage(this, this.nextElementSibling.querySelector('.preview-container'))">
                      <button class="grid-btn" onclick="this.previousElementSibling.click()">
                        <div class="preview-container"></div>
                        <span class="upload-icon">+</span>
                      </button>
                      <div class="prize-label">奖品01</div>
                    </div>
                  </div>
                  <div class="grid-item">
                    <div class="img-upload-container">
                      <input type="file" accept="image/*" class="prize-upload hidden-file-input" title="选择奖品02图片" aria-label="奖品02图片上传" onchange="previewImage(this, this.nextElementSibling.querySelector('.preview-container'))">
                      <button class="grid-btn" onclick="this.previousElementSibling.click()">
                        <div class="preview-container"></div>
                        <span class="upload-icon">+</span>
                      </button>
                      <div class="prize-label">奖品02</div>
                    </div>
                  </div>
                  <div class="grid-item">
                    <div class="img-upload-container">
                      <input type="file" accept="image/*" class="prize-upload hidden-file-input" title="选择奖品03图片" aria-label="奖品03图片上传" onchange="previewImage(this, this.nextElementSibling.querySelector('.preview-container'))">
                      <button class="grid-btn" onclick="this.previousElementSibling.click()">
                        <div class="preview-container"></div>
                        <span class="upload-icon">+</span>
                      </button>
                      <div class="prize-label">奖品03</div>
                    </div>
                  </div>
                </div>
                
                <!-- 第二行：2个奖品 -->
                <div class="prize-row middle-row">
                  <div class="grid-item">
                    <div class="img-upload-container">
                      <input type="file" accept="image/*" class="prize-upload hidden-file-input" title="选择奖品04图片" aria-label="奖品04图片上传" onchange="previewImage(this, this.nextElementSibling.querySelector('.preview-container'))">
                      <button class="grid-btn" onclick="this.previousElementSibling.click()">
                        <div class="preview-container"></div>
                        <span class="upload-icon">+</span>
                      </button>
                      <div class="prize-label">奖品04</div>
                    </div>
                  </div>
                  <div class="grid-item">
                    <div class="img-upload-container">
                      <input type="file" accept="image/*" class="prize-upload hidden-file-input" title="选择奖品05图片" aria-label="奖品05图片上传" onchange="previewImage(this, this.nextElementSibling.querySelector('.preview-container'))">
                      <button class="grid-btn" onclick="this.previousElementSibling.click()">
                        <div class="preview-container"></div>
                        <span class="upload-icon">+</span>
                      </button>
                      <div class="prize-label">奖品05</div>
                    </div>
                  </div>
                </div>
                
                <!-- 第三行：2个奖品 + 谢谢参与 -->
                <div class="prize-row bottom-row">
                  <div class="grid-item">
                    <div class="img-upload-container">
                      <input type="file" accept="image/*" class="prize-upload hidden-file-input" title="选择奖品06图片" aria-label="奖品06图片上传" onchange="previewImage(this, this.nextElementSibling.querySelector('.preview-container'))">
                      <button class="grid-btn" onclick="this.previousElementSibling.click()">
                        <div class="preview-container"></div>
                        <span class="upload-icon">+</span>
                      </button>
                      <div class="prize-label">奖品06</div>
                    </div>
                  </div>
                  <div class="grid-item">
                    <div class="img-upload-container">
                      <input type="file" accept="image/*" class="prize-upload hidden-file-input" title="选择奖品07图片" aria-label="奖品07图片上传" onchange="previewImage(this, this.nextElementSibling.querySelector('.preview-container'))">
                      <button class="grid-btn" onclick="this.previousElementSibling.click()">
                        <div class="preview-container"></div>
                        <span class="upload-icon">+</span>
                      </button>
                      <div class="prize-label">奖品07</div>
                    </div>
                  </div>
                  <div class="grid-item">
                    <div class="img-upload-container">
                      <input type="file" accept="image/*" class="prize-upload hidden-file-input" title="选择谢谢参与图片" aria-label="谢谢参与图片上传" onchange="previewImage(this, this.nextElementSibling.querySelector('.preview-container'))">
                      <button class="grid-btn" onclick="this.previousElementSibling.click()">
                        <div class="preview-container"></div>
                        <span class="upload-icon">+</span>
                      </button>
                      <div class="prize-label">谢谢参与</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 固定模块-图片轮播（横版）模板 -->
        <div class="module-template" id="carouselModuleTemplate">
          <div class="module-header">
            <div class="module-title">图片轮播（横版）</div>
            <div class="module-controls">
              <button class="control-btn move-up-btn" title="上移">
                <svg width="14" height="14" fill="currentColor">
                  <use href="#icon-move-up"/>
                </svg>
              </button>
              <button class="control-btn move-down-btn" title="下移">
                <svg width="14" height="14" fill="currentColor">
                  <use href="#icon-move-down"/>
                </svg>
              </button>
              <button class="control-btn collapse-btn" title="展开/收起">
                <svg width="14" height="14" fill="currentColor">
                  <use href="#icon-chevron"/>
                </svg>
              </button>
              <button class="control-btn delete-btn" title="删除">
                <svg width="14" height="14" fill="currentColor">
                  <use href="#icon-delete"/>
                </svg>
              </button>
            </div>
          </div>
          <div class="module-content">
            <!-- 标题文案 -->
            <div class="form-group row-layout">
              <label>标题</label>
              <input type="text" name="carousel-title" class="carousel-title-input text-input" placeholder="请输入标题文本">
            </div>
            
            <!-- 标题背景 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">标题背景</label>
              <div class="file-upload-btn">
                <input type="file" class="carousel-title-bg-upload" data-storage-key="carousel-title-bg" accept="image/*" style="display:none">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>

            <!-- 轮播图 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">轮播图</label>
              <div class="file-upload-btn">
                <input type="file" class="carousel-image-upload" data-storage-key="carousel-image" accept="image/*" style="display:none">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>

            <!-- 轮播图背景 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">轮播图背景</label>
              <div class="file-upload-btn">
                <input type="file" class="carousel-image-bg-upload" data-storage-key="carousel-image-bg" accept="image/*" style="display:none">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- 固定模块-图片轮播（竖版）模板 -->
        <div class="module-template" id="verticalCarouselModuleTemplate">
          <div class="module-header">
            <div class="module-title">图片轮播（竖版）</div>
            <div class="module-controls">
              <button class="control-btn move-up-btn" title="上移">
                <svg width="14" height="14" fill="currentColor">
                  <use href="#icon-move-up"/>
                </svg>
              </button>
              <button class="control-btn move-down-btn" title="下移">
                <svg width="14" height="14" fill="currentColor">
                  <use href="#icon-move-down"/>
                </svg>
              </button>
              <button class="control-btn collapse-btn" title="展开/收起">
                <svg width="14" height="14" fill="currentColor">
                  <use href="#icon-chevron"/>
                </svg>
              </button>
              <button class="control-btn delete-btn" title="删除">
                <svg width="14" height="14" fill="currentColor">
                  <use href="#icon-delete"/>
                </svg>
              </button>
            </div>
          </div>
          <div class="module-content">
            <!-- 标题文案 -->
            <div class="form-group row-layout">
              <label>标题</label>
              <input type="text" name="vertical-carousel-title" class="vertical-carousel-title-input text-input" placeholder="请输入标题文本">
            </div>
            
            <!-- 标题背景 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">标题背景</label>
              <div class="file-upload-btn">
                <input type="file" class="vertical-carousel-title-bg-upload" data-storage-key="vertical-title-bg" accept="image/*" style="display:none">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>

            <!-- 轮播图01 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">轮播图01</label>
              <div class="file-upload-btn">
                                  <input type="file" class="vertical-carousel-image-upload-1" data-storage-key="vertical-image-1" accept="image/*" style="display:none">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>

            <!-- 轮播图02 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">轮播图02</label>
              <div class="file-upload-btn">
                                  <input type="file" class="vertical-carousel-image-upload-2" data-storage-key="vertical-image-2" accept="image/*" style="display:none">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>

            <!-- 轮播图03 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">轮播图03</label>
              <div class="file-upload-btn">
                                  <input type="file" class="vertical-carousel-image-upload-3" data-storage-key="vertical-image-3" accept="image/*" style="display:none">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
          </div>
        </div>


        <!-- 固定模块-签到模板 -->
        <div class="module-template" id="signInModuleTemplate">
          <div class="module-header">
            <div class="module-title">每日签到</div>
            <div class="module-controls">
              <button class="control-btn move-up-btn" title="上移">
                <svg width="14" height="14" fill="currentColor">
                  <use href="#icon-move-up"/>
                </svg>
              </button>
              <button class="control-btn move-down-btn" title="下移">
                <svg width="14" height="14" fill="currentColor">
                  <use href="#icon-move-down"/>
                </svg>
              </button>
              <button class="control-btn collapse-btn" title="展开/收起">
                <svg width="14" height="14" fill="currentColor">
                  <use href="#icon-chevron"/>
                </svg>
              </button>
              <button class="control-btn delete-btn" title="删除">
                <svg width="14" height="14" fill="currentColor">
                  <use href="#icon-delete"/>
                </svg>
              </button>
            </div>
          </div>
          <div class="module-content">
            <!-- 签到标题 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">标题图片</label>
              <div class="file-upload-btn">
                <input type="file" class="sign-in-title-upload" accept="image/*" title="选择图片文件" aria-label="图片文件上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
            
            <!-- 签到背景 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">背景图片</label>
              <div class="file-upload-btn">
                <input type="file" class="sign-in-bg-upload" accept="image/*" title="选择图片文件" aria-label="图片文件上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
            
            <!-- 签到天数 -->
            <div class="form-group row-layout">
              <label for="signInDaysCount">签到天数</label>
              <input type="number" id="signInDaysCount" class="days-count number-input" value="7" min="3" max="31" title="设置签到活动天数" aria-label="签到天数输入框">
            </div>
            
            <!-- 日期图标 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">日期图标</label>
              <div class="file-upload-btn">
                <input type="file" class="day-icon-upload" accept="image/*" title="选择图片文件" aria-label="图片文件上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
            
            <!-- 签到按钮 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">签到按钮</label>
              <div class="file-upload-btn">
                <input type="file" class="sign-in-btn-upload" accept="image/*" title="选择图片文件" aria-label="图片文件上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 固定模块-集卡模板 -->
        <div class="module-template" id="collectModuleTemplate">
          <div class="module-header">
            <div class="module-title">集卡活动</div>
            <div class="module-controls">
              <button class="control-btn move-up-btn" title="上移">
                <svg width="14" height="14" fill="currentColor">
                  <use href="#icon-move-up"/>
                </svg>
              </button>
              <button class="control-btn move-down-btn" title="下移">
                <svg width="14" height="14" fill="currentColor">
                  <use href="#icon-move-down"/>
                </svg>
              </button>
              <button class="control-btn collapse-btn" title="展开/收起">
                <svg width="14" height="14" fill="currentColor">
                  <use href="#icon-chevron"/>
                </svg>
              </button>
              <button class="control-btn delete-btn" title="删除">
                <svg width="14" height="14" fill="currentColor">
                  <use href="#icon-delete"/>
                </svg>
              </button>
            </div>
          </div>
          <div class="module-content">
            <!-- 集卡标题 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">集卡标题</label>
              <div class="file-upload-btn">
                <input type="file" class="collect-title-upload" accept="image/*" title="选择图片文件" aria-label="图片文件上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
            
            <!-- 集卡背景 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">背景图片</label>
              <div class="file-upload-btn">
                <input type="file" class="collect-bg-upload" accept="image/*" title="选择图片文件" aria-label="图片文件上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
            
            <!-- 卡片数量 -->
            <div class="form-group row-layout">
              <label for="collectCardsCount">卡片数量</label>
              <input type="number" id="collectCardsCount" class="cards-count number-input" value="5" min="3" max="12" title="设置集卡活动卡片数量" aria-label="卡片数量输入框">
            </div>
            
            <!-- 卡片样式 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">卡片样式</label>
              <div class="radio-group row-layout">
                <div class="radio-item">
                  <input type="radio" id="cardStyle1" name="cardStyle" value="style1" checked title="选择方形卡片样式" aria-label="方形卡片样式">
                  <label for="cardStyle1">方形</label>
                </div>
                <div class="radio-item">
                  <input type="radio" id="cardStyle2" name="cardStyle" value="style2" title="选择圆角卡片样式" aria-label="圆角卡片样式">
                  <label for="cardStyle2">圆角</label>
                </div>
                <div class="radio-item">
                  <input type="radio" id="cardStyle3" name="cardStyle" value="style3" title="选择自定义卡片样式" aria-label="自定义卡片样式">
                  <label for="cardStyle3">自定义</label>
                </div>
              </div>
            </div>
            
            <!-- 卡片背景 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">卡片背景</label>
              <div class="file-upload-btn">
                <input type="file" class="card-bg-upload" accept="image/*" title="选择图片文件" aria-label="图片文件上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
            
            <!-- 合成按钮 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">合成按钮</label>
              <div class="file-upload-btn">
                <input type="file" class="combine-button-upload" accept="image/*" title="选择图片文件" aria-label="图片文件上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- 活动详情模板 -->
        <div class="module-template" id="activityContentModuleTemplate">
          <div class="module-header">
            <div class="module-title">活动详情</div>
            <div class="module-controls">
              <button class="control-btn move-up-btn" title="上移">
                <svg width="14" height="14" fill="currentColor">
                  <use href="#icon-move-up"/>
                </svg>
              </button>
              <button class="control-btn move-down-btn" title="下移">
                <svg width="14" height="14" fill="currentColor">
                  <use href="#icon-move-down"/>
                </svg>
              </button>
              <button class="control-btn collapse-btn" title="展开/收起">
                <svg width="14" height="14" fill="currentColor">
                  <use href="#icon-chevron"/>
                </svg>
              </button>
              <button class="control-btn delete-btn" title="删除">
                <svg width="14" height="14" fill="currentColor">
                  <use href="#icon-delete"/>
                </svg>
              </button>
            </div>
          </div>
          <div class="module-content">
            <!-- 大标题文案 -->
            <div class="form-group row-layout">
              <label>大标题</label>
              <input type="text" class="activity-content-main-title-input text-input" placeholder="请输入大标题文本">
            </div>
            
            <!-- 大标题背景 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">大标题背景</label>
              <div class="file-upload-btn">
                <input type="file" class="activity-content-main-title-bg-upload hidden-file-input" accept="image/*" title="选择大标题背景图片" aria-label="大标题背景图片上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>

            <!-- 小标题文案 -->
            <div class="form-group row-layout">
              <label>小标题</label>
              <input type="text" class="activity-content-sub-title-input text-input" placeholder="请输入小标题文本">
            </div>

            <!-- 小标题背景 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">小标题背景</label>
              <div class="file-upload-btn">
                <input type="file" class="activity-content-sub-title-bg-upload hidden-file-input" accept="image/*" title="选择小标题背景图片" aria-label="小标题背景图片上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
            
            <!-- 正文内容 -->
            <div class="form-group row-layout">
              <label>正文</label>
              <textarea class="activity-content-text-input text-area" placeholder="请输入活动详情内容"></textarea>
            </div>

            <!-- 插图 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">插图</label>
              <div class="file-upload-btn">
                <input type="file" class="activity-content-image-upload hidden-file-input" accept="image/*" title="选择插图图片" aria-label="插图图片上传">
                <button class="upload-btn activity-content-image-upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
          </div>
        </div>
        <!-- 更多模板可继续添加 -->
      </div>

      <!-- 活动规则板块 -->
      <div class="form-section">
        <!-- 活动规则标题 -->
        <div class="section-header">
          <span class="section-title">活动规则</span>
          <div class="option-controls">
            <button class="control-btn collapse-btn" data-target="rulesContent" title="折叠/展开活动规则板块" aria-label="折叠/展开活动规则板块">
              <svg width="12" height="7" class="chevron-icon">
                <use href="#icon-chevron"/>
              </svg>
            </button>
          </div>
        </div>
        
        <!-- 活动规则内容容器 -->
        <div id="rulesContent" class="collapsible-content">

          <!-- 标题文案 -->
          <div class="form-group row-layout">
            <label class="non-interactive-label">标题文案</label>
            <input type="text" id="rulesTitle" class="text-input" placeholder="请输入标题文案">
          </div>

          <!-- 标题背景 -->
          <div class="form-group row-layout">
            <label class="non-interactive-label">标题背景</label>
            <div class="file-upload-btn">
              <input type="file" id="rulesBgUpload" accept="image/*" class="hidden-file-input" title="选择活动规则标题背景图片" aria-label="活动规则标题背景图片上传">
              <button class="upload-btn" onclick="document.getElementById('rulesBgUpload').click()">
                <div class="img-preview-inline">
                  <span class="upload-icon-inline">+</span>
                </div>
              </button>
            </div>
          </div>
          
          <!-- 活动规则内容 -->
          <div class="form-group row-layout">
            <label for="rulesTextarea">活动规则</label>
            <textarea id="rulesTextarea" class="text-area" placeholder="请输入活动规则内容" title="输入活动规则内容" aria-label="活动规则内容输入框"></textarea>
          </div>
          
        </div>
      </div>

      <!-- 尾版板块 -->
      <div class="form-section">
        <!-- 尾版标题 -->
        <div class="section-header">
          <span class="section-title">尾版</span>
          <div class="option-controls">
            <button class="control-btn collapse-btn" data-target="footerAreaContent" title="折叠/展开尾版板块" aria-label="折叠/展开尾版板块">
              <svg width="12" height="7" class="chevron-icon">
                <use href="#icon-chevron"/>
              </svg>
            </button>
          </div>
        </div>
        
        <!-- 尾版内容容器 -->
        <div id="footerAreaContent" class="collapsible-content">
          <!-- LOGO -->
          <div class="form-group row-layout">
            <label class="non-interactive-label">LOGO</label>
            <div class="file-upload-btn">
              <input type="file" id="footerLogoUpload" accept="image/*" class="hidden-file-input" title="选择尾版LOGO图片" aria-label="尾版LOGO图片上传" onchange="previewImage(this, this.nextElementSibling.querySelector('.img-preview-inline'))">
              <button class="upload-btn" onclick="document.getElementById('footerLogoUpload').click()">
                <div class="img-preview-inline">
                  <span class="upload-icon-inline">+</span>
                </div>
              </button>
            </div>
          </div>
          
          <!-- 尾版背景 -->
          <div class="form-group row-layout">
            <label class="non-interactive-label">尾版背景</label>
            <div class="file-upload-btn">
              <input type="file" id="footerBgUpload" accept="image/*" class="hidden-file-input" title="选择尾版背景图片" aria-label="尾版背景图片上传">
              <button class="upload-btn" onclick="document.getElementById('footerBgUpload').click()">
                <div class="img-preview-inline">
                  <span class="upload-icon-inline">+</span>
                </div>
              </button>
            </div>
          </div>
          
        </div>
      </div>

      <!-- 创建按钮容器 -->
      <div class="create-btn-container">
        <div class="button-group">
          <button class="create-btn" id="create">创建原型</button>
          <button class="reset-btn" id="reset">重置</button>
        </div>
      </div>
    </div>

    <!-- 延展渠道内容 -->
    <div class="tab-content" id="extension-content">
      <!-- 渠道列表视图 -->
      <div class="channels-container" id="channelsMainView">
        <!-- OPPO渠道 -->
        <div class="channel-section">
          <div class="channel-header">
            <h3 class="channel-title">OPPO</h3>
            <button class="channel-settings-btn" onclick="showChannelSettings('oppo')" title="渠道设置">
              ⚙️
            </button>
          </div>
          <div class="channel-content">
            <div class="channel-preview-container">
              <div class="channel-preview-area" id="oppo-preview">
                <div class="channel-preview-placeholder">
                  <span>预览内容将在此显示</span>
                </div>
              </div>
              <button class="channel-preview-btn" onclick="previewChannel('oppo')">预览</button>
            </div>
            <div class="channel-generate-btn-group">
              <button class="channel-generate-btn" onclick="generateChannel('oppo')">生成 OPPO 版本</button>
              <button class="channel-generate-btn" onclick="">导出切图</button>
            </div>
          </div>
        </div>

        <!-- VIVO渠道 -->
        <div class="channel-section">
          <div class="channel-header">
            <h3 class="channel-title">VIVO</h3>
            <button class="channel-settings-btn" onclick="showChannelSettings('vivo')" title="渠道设置">
              ⚙️
            </button>
          </div>
          <div class="channel-content">
            <div class="channel-preview-container">
              <div class="channel-preview-area" id="vivo-preview">
                <div class="channel-preview-placeholder">
                  <span>预览内容将在此显示</span>
                </div>
              </div>
              <button class="channel-preview-btn" onclick="previewChannel('vivo')">预览</button>
            </div>
            <div class="channel-generate-btn-group">
              <button class="channel-generate-btn" onclick="generateChannel('vivo')">生成 VIVO 版本</button>
              <button class="channel-generate-btn" onclick="">导出切图</button>
            </div>
          </div>
        </div>

        <!-- 华为渠道 -->
        <div class="channel-section">
          <div class="channel-header">
            <h3 class="channel-title">华为</h3>
            <button class="channel-settings-btn" onclick="showChannelSettings('huawei')" title="渠道设置">
              ⚙️
            </button>
          </div>
          <div class="channel-content">
            <div class="channel-preview-container">
              <div class="channel-preview-area" id="huawei-preview">
                <div class="channel-preview-placeholder">
                  <span>预览内容将在此显示</span>
                </div>
              </div>
              <button class="channel-preview-btn" onclick="previewChannel('huawei')">预览</button>
            </div>
            <div class="channel-generate-btn-group">
              <button class="channel-generate-btn" onclick="generateChannel('huawei')">生成华为版本</button>
              <button class="channel-generate-btn" onclick="">导出切图</button>
            </div>
          </div>
        </div>

        <!-- 小米渠道 -->
        <div class="channel-section">
          <div class="channel-header">
            <h3 class="channel-title">小米</h3>
            <button class="channel-settings-btn" onclick="showChannelSettings('xiaomi')" title="渠道设置">
              ⚙️
            </button>
          </div>
          <div class="channel-content">
            <div class="channel-preview-container">
              <div class="channel-preview-area" id="xiaomi-preview">
                <div class="channel-preview-placeholder">
                  <span>预览内容将在此显示</span>
                </div>
              </div>
              <button class="channel-preview-btn" onclick="previewChannel('xiaomi')">预览</button>
            </div>
            <div class="channel-generate-btn-group">
              <button class="channel-generate-btn" onclick="generateChannel('xiaomi')">生成小米版本</button>
              <button class="channel-generate-btn" onclick="">导出切图</button>
            </div>
          </div>
        </div>
      </div>

      <!-- 渠道设置视图 -->
      <div class="channel-settings-view hidden" id="channelSettingsView">
        <!-- 设置页头部 -->
        <div class="settings-header">
          <button class="back-btn" onclick="backToChannelsList()" title="返回渠道列表" aria-label="返回渠道列表">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
              <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
            </svg>
          </button>
          <h2 class="settings-title" id="settingsTitle">渠道设置</h2>
          <div></div> <!-- 占位元素保持居中平衡 -->
        </div>

        <!-- 设置内容区域 -->
        <div class="settings-content" id="settingsContent">
          <!-- 动态内容将在这里插入 -->
        </div>
      </div>
    </div>
    
    <!-- 工具集内容 -->
    <div class="tab-content  active tools-tab-content" id="tools-content">
      <div class="tools-panel">
        <!-- 左侧菜单栏 -->
        <aside class="tools-panel__sidebar">
          <ul class="tools-menu">
            <li class="tools-menu__item tools-menu__item--active" data-tool="image-editor">
              <span class="tools-menu__icon">🎨</span>
              <span class="tools-menu__label">调整图像</span>
            </li>
            <!-- 未来可扩展更多工具 -->
            <!-- <li class="tools-menu__item" data-tool="other-tool">...</li> -->
          </ul>
        </aside>
      
        <!-- 右侧内容区 -->
        <section class="tools-panel__content">
          <!-- 图片调色工具卡片 -->
          <div class="tool-card tool-card--active" id="image-editor-tool">
            <div class="image-editor__header image-editor__mode-switch">
              <label class="image-editor__radio">
                <input type="radio" name="image-mode" value="upload" checked>
                <span class="image-editor__radio-custom"></span>
                上传图片
              </label>
              <label class="image-editor__radio">
                <input type="radio" name="image-mode" value="figma">
                <span class="image-editor__radio-custom"></span>
                加载图片
              </label>
            </div>
            <div class="image-editor__preview-area" id="image-preview-area">
              <input type="file" accept="image/*" class="image-editor__file-input" id="image-upload-input" hidden title="上传图片" aria-label="上传图片">
              <div class="image-editor__preview-placeholder" id="image-preview-placeholder">
                <span>点击上传或点击加载<br>（请先在Figma中选中图片）</span>
              </div>
              <canvas class="image-editor__canvas" id="image-preview-canvas" style="display:none;"></canvas>
            </div>
            <div class="image-editor__controls">
              <div class="image-editor__slider-group">
                <label style="font-size:13px;margin-bottom:6px;">曝光</label>
                <input type="range" min="-100" max="100" value="0" class="image-editor__slider" data-prop="brightness" title="曝光" aria-label="曝光">
              </div>
              <div class="image-editor__slider-group">
                <label style="font-size:13px;margin-bottom:6px;">对比度</label>
                <input type="range" min="-100" max="100" value="0" class="image-editor__slider" data-prop="contrast" title="对比度" aria-label="对比度">
              </div>
              <div class="image-editor__slider-group">
                <label style="font-size:13px;margin-bottom:6px;">饱和度</label>
                <input type="range" min="-100" max="100" value="0" class="image-editor__slider" data-prop="saturate" title="饱和度" aria-label="饱和度">
              </div>
              <div class="image-editor__slider-group">
                <label style="font-size:13px;margin-bottom:6px;">白平衡</label>
                <input type="range" min="-100" max="100" value="0" class="image-editor__slider" data-prop="temperature" title="白平衡" aria-label="白平衡">
              </div>
              <div class="image-editor__slider-group">
                <label style="font-size:13px;margin-bottom:6px;">色相</label>
                <input type="range" min="-180" max="180" value="0" class="image-editor__slider" data-prop="hue" title="色相" aria-label="色相">
              </div>
              <div class="image-editor__slider-group">
                <label style="font-size:13px;margin-bottom:6px;">高光</label>
                <input type="range" min="-100" max="100" value="0" class="image-editor__slider" data-prop="highlight" title="高光" aria-label="高光">
              </div>
              <div class="image-editor__slider-group" style="margin-bottom:18px;">
                <label style="font-size:13px;margin-bottom:6px;">阴影</label>
                <input type="range" min="-100" max="100" value="0" class="image-editor__slider" data-prop="shadow" title="阴影" aria-label="阴影">
              </div>
            </div>
            <div class="image-editor__actions image-editor__actions--centered">
              <button class="image-editor__reset-btn">重置</button>
              <button class="image-editor__confirm-btn">确认</button>
            </div>
          </div>
          <!-- 未来可扩展更多工具卡片 -->
        </section>
      </div>
    </div>

    <!-- 设置内容 -->
    <div class="tab-content" id="settings-content">
      <div class="form-section">
        <!-- 主题切换 -->
        <div class="form-group row-layout theme-switcher">
          <label>切换主题</label>
          <div class="theme-buttons">
            <button id="lightTheme" class="theme-btn active" data-theme="light">
              <!-- <i class="bi bi-sun"></i> -->
              <span>浅色模式</span>
            </button>
            <button id="darkTheme" class="theme-btn" data-theme="dark">
              <!-- <i class="bi bi-moon"></i> -->
              <span>深色模式</span>
            </button>
          </div>
        </div>
      </div>

    </div>

  </div>
  
  <!-- 页脚版本信息 -->
  <div class="page-footer">
    <div class="version-info">
      <span class="version-number">1.0.0</span>
      <span class="version-author">渠道美术制作</span>
    </div>
  </div>

  {{APP_SCRIPTS}}

</body>
</html> 