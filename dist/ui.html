<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>渠道美术-H5延展工具</title>
  
  <!-- 样式文件 - 外部CDN版本 -->
  <link id="external-styles" rel="stylesheet" href="https://cdn.jsdelivr.net/gh/kw-96/H5Tools@main/dist/styles.min.css">
</head>
<body>
  <!-- SVG Sprite定义 -->
  <svg xmlns="http://www.w3.org/2000/svg" style="display:none">

    <!-- 模块控制图标 -->
    <symbol id="icon-move-up" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
      <path fill-rule="evenodd" d="M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z"/>
    </symbol>

    <symbol id="icon-move-down" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
      <path fill-rule="evenodd" d="M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z"/>
    </symbol>

    <symbol id="icon-collapse" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
      <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
    </symbol>

    <symbol id="icon-delete" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
      <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
      <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
    </symbol>

    <!-- 其他图标 -->
    <symbol id="icon-back" width="16" height="16" viewBox="0 0 16 16" fill="none">
      <path d="M10 12l-4-4 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </symbol>

    <symbol id="icon-chevron" width="12" height="7" fill="currentColor" viewBox="0 0 16 11" >
      <path d="M0.130121 2.33086L7.44223 9.90667C7.67195 10.1374 8.03601 10.151 8.28153 9.94739L8.32611 9.90667L15.8682 2.3312C15.8992 2.29996 15.9167 2.25768 15.9167 2.21361V0.910808C15.9167 0.81876 15.8421 0.744141 15.75 0.744141C15.7057 0.744141 15.6632 0.7618 15.6319 0.793213L7.90908 8.54978L0.369491 0.801243C0.3053 0.735272 0.199782 0.73383 0.133811 0.798022C0.101565 0.829398 0.083374 0.87248 0.083374 0.917472V2.21512C0.083374 2.2583 0.100133 2.29979 0.130121 2.33086Z" fill="currentColor"/>
    </symbol>
  </svg>

  <!-- 主容器 -->
  <div class="container">
    <!-- 标签页容器 -->
    <div class="tab-container">
      <!-- 创建原型标签页 -->
      <div class="tab active" data-tab="prototype">
        <!-- SVG图标：创建原型 -->
        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path d="M9.4375 8C10.3004 8 11 8.69956 11 9.5625V18.4375C11 19.3004 10.3004 20 9.4375 20H1.5625C0.699555 20 0 19.3004 0 18.4375V9.5625C0 8.69956 0.699555 8 1.5625 8H9.4375Z" />
          <path d="M18.4375 8C19.3004 8 20 8.69956 20 9.5625V18.4375C20 19.3004 19.3004 20 18.4375 20H14.5625C13.6996 20 13 19.3004 13 18.4375V9.5625C13 8.69956 13.6996 8 14.5625 8H18.4375Z" />
          <path d="M18.4375 0C19.3004 0 20 0.699555 20 1.5625V4.6875C20 5.55044 19.3004 6.25 18.4375 6.25H1.5625C0.699555 6.25 0 5.55044 0 4.6875V1.5625C0 0.699555 0.699555 0 1.5625 0H18.4375Z" />
        </svg>
        <span class="tab-label">创建原型</span>
      </div>

      <!-- 延展渠道标签页 -->
      <div class="tab" data-tab="extension">
        <!-- SVG图标：延展渠道 -->
        <svg width="20" height="20" viewBox="0 0 18 18" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path d="M1.6875 3.09375V7.25175H0V3.09375C0 2.27324 0.325948 1.48633 0.906138 0.906138C1.48633 0.325948 2.27324 0 3.09375 0H7.25175V1.6875H3.09375C2.3175 1.6875 1.6875 2.3175 1.6875 3.09375ZM16.3125 3.09375V7.25175H18V3.09375C18 2.27324 17.6741 1.48633 17.0939 0.906138C16.5137 0.325948 15.7268 0 14.9063 0H10.7483V1.6875H14.9063C14.9738 1.6875 15.0413 1.692 15.1054 1.701L11.3175 5.49113L12.51 6.68363L16.3001 2.89462C16.3091 2.95988 16.3136 3.02625 16.3136 3.09375H16.3125ZM7.26638 11.9273L2.89462 16.299C2.95875 16.308 3.02625 16.3136 3.09375 16.3136H7.25175V18H3.09375C2.27324 18 1.48633 17.6741 0.906138 17.0939C0.325948 16.5137 0 15.7268 0 14.9063V10.7471H1.6875V14.9063C1.6875 14.9738 1.692 15.039 1.701 15.1043L6.07275 10.7325L7.26525 11.925L7.26638 11.9273ZM16.3125 14.9063C16.3125 15.6836 15.6825 16.3125 14.9063 16.3125H10.7483V18H14.9063C15.7268 18 16.5137 17.6741 17.0939 17.0939C17.6741 16.5137 18 15.7268 18 14.9063V10.7483H16.3125V14.9074V14.9063Z" />
        </svg>
        <span class="tab-label">延展渠道</span>
      </div>

      <!-- 工具集标签页 -->
      <div class="tab" data-tab="tools">
        <!-- SVG图标：工具集 -->
        <svg width="20" height="20" viewBox="0 0 18 21" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path d="M9.0211 0.000215872C8.85591 -0.00344549 8.69292 0.0395296 8.55 0.124432L0.450001 4.91307C0.313036 4.99406 0.199328 5.11059 0.120328 5.25091C0.0413283 5.39123 -0.000174042 5.5504 5.4908e-07 5.71237V15.2896C-0.000174121 15.4516 0.0413281 15.6108 0.120328 15.7511C0.199328 15.8914 0.313036 16.008 0.450001 16.0889L8.54121 20.8722C8.54449 20.8742 8.54669 20.8774 8.55 20.8794C8.55608 20.8831 8.56315 20.8848 8.56934 20.8884C8.62739 20.9204 8.68869 20.9457 8.75215 20.964C8.76179 20.9667 8.77056 20.9707 8.78027 20.973C8.85101 20.9909 8.92361 21 8.99649 21H9H9.00352C9.07521 20.9997 9.14662 20.9906 9.21621 20.973C9.22527 20.9709 9.23358 20.9682 9.24258 20.9658H9.2461C9.31219 20.9463 9.37589 20.9191 9.43594 20.8848C9.44029 20.8822 9.4457 20.882 9.45 20.8794L17.55 16.0871C17.829 15.9212 18 15.6158 18 15.2932V5.70877V5.70697C17.9994 5.62978 17.9894 5.55297 17.9701 5.47834C17.9695 5.47594 17.969 5.47354 17.9684 5.47114C17.9677 5.46876 17.9673 5.46632 17.9666 5.46394C17.9469 5.39105 17.9186 5.32091 17.8822 5.25511L17.8805 5.25331L17.8787 5.24971C17.7998 5.10996 17.6865 4.99387 17.55 4.91307L9.45 0.124432C9.31946 0.0468548 9.17197 0.00413969 9.0211 0.000215872ZM9 1.98588L15.3 5.71237L8.55 9.6999C8.271 9.86581 8.1 10.1692 8.1 10.501V18.4833L1.8 14.7586V6.24344L9 1.98588ZM16 8.5V15L11.5 17.5V11L16 8.5Z" />
        </svg>
        <span class="tab-label">工具集</span>
      </div>
      
      <!-- 设置标签页 -->
      <div class="tab" data-tab="settings">
        <!-- SVG图标：设置 -->
        <svg width="20" height="20" viewBox="0 0 18 18" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M9 5.375C9.96141 5.375 10.8837 5.7567 11.5635 6.43652C12.2433 7.11634 12.625 8.03859 12.625 9C12.625 9.96141 12.2433 10.8837 11.5635 11.5635C10.8837 12.2433 9.96141 12.625 9 12.625C8.52396 12.625 8.05211 12.5308 7.6123 12.3486C7.17272 12.1665 6.77299 11.8999 6.43652 11.5635C6.10005 11.227 5.83354 10.8273 5.65137 10.3877C5.46919 9.94789 5.375 9.47604 5.375 9C5.375 8.52396 5.46919 8.05211 5.65137 7.6123C5.83354 7.17272 6.10005 6.773 6.43652 6.43652C6.77299 6.10005 7.17272 5.83354 7.6123 5.65137C8.05211 5.46919 8.52396 5.375 9 5.375ZM9 6.625C8.37011 6.625 7.76571 6.87491 7.32031 7.32031C6.87491 7.76571 6.625 8.37011 6.625 9C6.625 9.62989 6.87491 10.2343 7.32031 10.6797C7.76571 11.1251 8.37011 11.375 9 11.375C9.31189 11.375 9.62103 11.3137 9.90918 11.1943C10.1972 11.075 10.4592 10.9002 10.6797 10.6797C10.9002 10.4592 11.075 10.1972 11.1943 9.90918C11.3137 9.62103 11.375 9.31189 11.375 9C11.375 8.68811 11.3137 8.37897 11.1943 8.09082C11.075 7.80276 10.9002 7.5408 10.6797 7.32031C10.4592 7.09983 10.1972 6.92502 9.90918 6.80566C9.62103 6.68631 9.31189 6.625 9 6.625Z" />
          <path fill-rule="evenodd" clip-rule="evenodd" d="M11.9033 0.875C13.0982 0.875123 14.1924 1.5455 14.7363 2.6084L17.2627 7.55176C17.7277 8.46176 17.7277 9.53924 17.2627 10.4482L14.7363 15.3916C14.4696 15.9134 14.0634 16.3514 13.5635 16.6572C13.0637 16.963 12.4892 17.1251 11.9033 17.125H6.15039C5.56895 17.1249 4.99815 16.9655 4.50098 16.6641C4.00384 16.3626 3.59895 15.9305 3.33008 15.415L0.75 10.4717C0.512884 10.0173 0.388672 9.5125 0.388672 9C0.388672 8.4875 0.512884 7.98266 0.75 7.52832L3.33008 2.58398C3.59902 2.06878 4.00399 1.63721 4.50098 1.33594C4.99814 1.03464 5.56905 0.874986 6.15039 0.875H11.9033ZM6.15039 2.125C5.43044 2.125 4.7705 2.52516 4.43848 3.16309L1.8584 8.10645C1.71432 8.38235 1.63867 8.68874 1.63867 9C1.63867 9.31126 1.71432 9.61765 1.8584 9.89355L4.43848 14.8369C4.60171 15.1498 4.84762 15.4117 5.14941 15.5947C5.45122 15.7777 5.79746 15.875 6.15039 15.875H11.9033C12.6291 15.8749 13.2931 15.469 13.623 14.8232L16.1504 9.87891C16.2894 9.60685 16.3613 9.30553 16.3613 9C16.3613 8.69447 16.2894 8.39315 16.1504 8.12109L13.623 3.17676C13.4611 2.86011 13.2145 2.59478 12.9111 2.40918C12.6077 2.2236 12.259 2.12494 11.9033 2.125H6.15039Z" />
        </svg>
        <span class="tab-label">设置</span>
      </div>
    </div>

    <!-- 创建原型内容 -->
    <div class="tab-content active" id="prototype-content">
      <!-- 页面基础设置板块 -->
      <div class="form-section">
        <div class="form-group row-layout">
          <label class="non-interactive-label">页面底色</label>
          <div class="color-input-group">
            <input type="color" id="pageColor" value="#FFFFFF" title="选择页面底色" aria-label="页面底色选择器">
            <input type="text" class="color-value" value="#FFFFFF" maxlength="7" title="页面底色十六进制值" aria-label="页面底色色值输入框" placeholder="#FFFFFF">
          </div>
        </div>
        
        <div class="form-group row-layout">
          <label class="non-interactive-label">页面背景</label>
          <div class="file-upload-btn">
            <input type="file" id="pageBackground" accept="image/*" class="hidden-file-input" onchange="previewImage(this, this.nextElementSibling.querySelector('.img-preview-inline'))" title="选择页面背景图片" aria-label="页面背景图片上传">
            <button class="upload-btn" onclick="document.getElementById('pageBackground').click()" title="上传页面背景图片" aria-label="上传页面背景图片">
              <div class="img-preview-inline">
                <span class="upload-icon-inline">+</span>
              </div>
            </button>
          </div>
        </div>
      </div>
      
      <!-- 头图板块 -->
      <div class="form-section">
        <!-- 头图 -->
        <div class="form-group row-layout">
          <label class="non-interactive-label">头图</label>
          <div class="file-upload-btn">
            <input type="file" id="headerImage" accept="image/*" class="hidden-file-input" title="选择头图" aria-label="头图上传">
            <button class="upload-btn" onclick="document.getElementById('headerImage').click()" title="上传头图" aria-label="上传头图">
              <div class="img-preview-inline">
                <span class="upload-icon-inline">+</span>
              </div>
            </button>
          </div>
        </div>
    
        <!-- 标题 -->
        <div class="form-group row-layout">
          <label class="non-interactive-label">标题</label>
          <div class="file-upload-btn">
            <input type="file" id="titleUpload" accept="image/*" class="hidden-file-input" onchange="previewImage(this, this.nextElementSibling.querySelector('.img-preview-inline'))" title="选择标题图片" aria-label="标题图片上传">
            <button class="upload-btn" onclick="document.getElementById('titleUpload').click()" title="上传标题图片" aria-label="上传标题图片">
              <div class="img-preview-inline">
                <span class="upload-icon-inline">+</span>
              </div>
            </button>
          </div>
        </div>
      </div>
      
      <!-- 游戏信息板块 -->
      <div class="form-section">
        <!-- 游戏信息板块标题 -->
        <div class="section-header">
          <div class="dropdown-selector">
            <select id="buttonVersionSelect" class="section-dropdown" title="选择游戏信息版本" aria-label="游戏信息版本选择器">
              <option value="imageButton">游戏信息-带icon版</option>
              <option value="singleButton">游戏信息-单按钮版</option>
              <option value="doubleButton">游戏信息-双按钮版</option>
            </select>
          </div>
          <div class="option-controls">
            <button class="control-btn collapse-btn" data-target="buttonVersionContent" title="折叠/展开游戏信息板块" aria-label="折叠/展开游戏信息板块">
              <svg width="12" height="7"><use href="#icon-chevron"/></svg>
            </button>
          </div>
        </div>
        
        <!-- 按钮内容容器 -->
        <div id="buttonVersionContent" class="collapsible-content">
          <!-- 游戏icon版内容 (默认显示) -->
          <div class="version-content active" id="imageButtonContent">
            <div class="form-group row-layout">
              <label class="non-interactive-label">游戏icon</label>
              <div class="img-upload-wrapper">
                <input type="file" id="gameIconUpload" accept="image/*" class="game-icon-upload hidden-file-input" title="选择游戏icon" aria-label="游戏icon上传">
                <div class="img-preview-btn" onclick="document.getElementById('gameIconUpload').click()">
                  <div class="img-preview-container" id="gameIconPreview">
                    <span class="upload-icon-text">+</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="form-group row-layout">
              <label for="gameNameInput">游戏名称</label>
              <input type="text" id="gameNameInput" class="text-input" placeholder="请输入游戏名称">
            </div>

            <div class="form-group row-layout">
              <label for="gameCopyInput">游戏描述</label>
              <textarea id="gameCopyInput" class="text-area" placeholder="请输入游戏宣传文案"></textarea>
            </div>
            
            <div class="form-group row-layout">
              <label class="non-interactive-label">文案颜色</label>
              <div class="color-input-group">
                <input type="color" id="gameCopyTextColor" value="#FFFFFF" title="选择游戏文案颜色" aria-label="游戏文案颜色选择器">
                <input type="text" class="color-value" value="#FFFFFF" maxlength="7" title="游戏文案颜色十六进制值" aria-label="游戏文案颜色色值输入框" placeholder="#FFFFFF">
              </div>
            </div>

            <div class="form-group row-layout">
              <label for="iconButtonText">按钮文本</label>
              <input type="text" id="iconButtonText" class="text-input" placeholder="请输入按钮文案" value="立即下载">
            </div>

            <div class="form-group row-layout">
              <label class="non-interactive-label">文本颜色</label>
              <div class="color-input-group">
                <input type="color" id="iconButtonTextColor" value="#FFFFFF" title="选择按钮文本颜色" aria-label="按钮文本颜色选择器">
                <input type="text" class="color-value" value="#FFFFFF" maxlength="7" title="按钮文本颜色十六进制值" aria-label="按钮文本颜色色值输入框" placeholder="#FFFFFF">
              </div>
            </div>

            <div class="form-group row-layout">
              <label class="non-interactive-label">按钮底</label>
              <div class="file-upload-btn">
                <input type="file" id="iconButtonBgUpload" accept="image/*" class="hidden-file-input" onchange="previewImage(this, this.nextElementSibling.querySelector('.img-preview-inline'))" title="选择按钮背景图片" aria-label="按钮背景图片上传">
                <button class="upload-btn" onclick="document.getElementById('iconButtonBgUpload').click()" title="上传按钮背景图片" aria-label="上传按钮背景图片">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>

          </div>
          
          <!-- 单按钮版内容 -->
          <div class="version-content" id="singleButtonContent">

            <div class="form-group row-layout">
              <label for="singleButtonText">按钮文本</label>
              <input type="text" id="singleButtonText" class="text-input" placeholder="请输入按钮文案" value="立即下载">
            </div>

            <div class="form-group row-layout">
              <label class="non-interactive-label">文本颜色</label>
              <div class="color-input-group">
                <input type="color" id="singleButtonTextColor" value="#FFFFFF" title="选择单按钮文本颜色" aria-label="单按钮文本颜色选择器">
                <input type="text" class="color-value" value="#FFFFFF" maxlength="7" title="单按钮文本颜色十六进制值" aria-label="单按钮文本颜色色值输入框" placeholder="#FFFFFF">
              </div>
            </div>

            <div class="form-group row-layout">
              <label class="non-interactive-label">按钮底</label>
              <div class="file-upload-btn">
                <input type="file" id="singleButtonBgUpload" accept="image/*" class="hidden-file-input" title="选择单按钮背景图片" aria-label="单按钮背景图片上传">
                <button class="upload-btn" onclick="document.getElementById('singleButtonBgUpload').click()" title="上传单按钮背景图片" aria-label="上传单按钮背景图片">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
          </div>
          
          <!-- 双按钮版内容 -->
          <div class="version-content" id="doubleButtonContent">

            <div class="form-group row-layout">
              <label for="leftButtonText">左侧按钮文本</label>
              <input type="text" id="leftButtonText" class="text-input" placeholder="请输入按钮文案" value="左侧按钮">
            </div>

            <div class="form-group row-layout">
              <label class="non-interactive-label">文本颜色</label>
              <div class="color-input-group">
                <input type="color" id="leftButtonTextColor" value="#FFFFFF" title="选择左侧按钮文本颜色" aria-label="左侧按钮文本颜色选择器">
                <input type="text" class="color-value" value="#FFFFFF" maxlength="7" title="左侧按钮文本颜色十六进制值" aria-label="左侧按钮文本颜色色值输入框" placeholder="#FFFFFF">
              </div>
            </div>

            <div class="form-group row-layout">
              <label class="non-interactive-label">左侧按钮底</label>
              <div class="file-upload-btn">
                <input type="file" id="leftButtonBgUpload" accept="image/*" class="hidden-file-input" title="选择左侧按钮背景图片" aria-label="左侧按钮背景图片上传">
                <button class="upload-btn" onclick="document.getElementById('leftButtonBgUpload').click()" title="上传左侧按钮背景图片" aria-label="上传左侧按钮背景图片">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>

            <div class="form-group row-layout">
              <label for="rightButtonText">右侧按钮文本</label>
              <input type="text" id="rightButtonText" class="text-input" placeholder="请输入按钮文案" value="右侧按钮">
            </div>

            <div class="form-group row-layout">
              <label class="non-interactive-label">文本颜色</label>
              <div class="color-input-group">
                <input type="color" id="rightButtonTextColor" value="#FFFFFF" title="选择右侧按钮文本颜色" aria-label="右侧按钮文本颜色选择器">
                <input type="text" class="color-value" value="#FFFFFF" maxlength="7" title="右侧按钮文本颜色十六进制值" aria-label="右侧按钮文本颜色色值输入框" placeholder="#FFFFFF">
              </div>
            </div>
            
            <div class="form-group row-layout">
              <label class="non-interactive-label">右侧按钮底</label>
              <div class="file-upload-btn">
                <input type="file" id="rightButtonBgUpload" accept="image/*" class="hidden-file-input" title="选择右侧按钮背景图片" aria-label="右侧按钮背景图片上传">
                <button class="upload-btn" onclick="document.getElementById('rightButtonBgUpload').click()" title="上传右侧按钮背景图片" aria-label="上传右侧按钮背景图片">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
            
            <div class="form-group row-layout">
              <label for="btnSpacing">按钮间距</label>
              <input type="number" id="btnSpacing" value="10" min="0" max="50" class="number-input">
            </div>
          </div>
          
        </div>
      </div>

      <!-- 模块管理区域 -->
      <div class="form-section module-management">
        <!-- 模块选择和添加区域 -->
        <div class="section-header">
          <span class="section-title">自定义模块</span>
        </div>
        <div class="module-selection-content">
          <div class="form-group row-layout">
            <label for="moduleTypeSelect">模块类型</label>
            <div class="dropdown-selector-wide">
            <select id="moduleTypeSelect" class="section-dropdown">
              <option value="">请选择模块类型</option>
              <option value="lotteryModule">九宫格抽奖</option>
              <option value="signInModule">签到模块</option>
              <option value="collectModule">集卡模块</option>
              <option value="activityContentModule">活动详情</option>
              <option value="carouselModule">图片轮播（横版）</option>
            </select>
            </div>
          </div>
          <div class="form-group row-layout module-action-row">
            <button id="addModuleBtn" class="action-btn add-module-btn">
              添加模块
            </button>
          </div>
        </div>
        
        <!-- 已添加模块列表 -->
        <div class="module-list-header">
          <span>已添加模块</span>
          <div class="module-count"><span id="moduleCounter">0</span> 个模块</div>
        </div>
        
        <div id="modulesContainer">
          <!-- 模块将动态添加到此处 -->
          <div class="empty-modules-message" id="emptyModulesMessage">
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" viewBox="0 0 16 16" style="margin-bottom: 16px; opacity: 0.5;">
              <path d="M7.752.066a.5.5 0 0 1 .496 0l3.75 2.143a.5.5 0 0 1 .252.434v3.995l3.498 2A.5.5 0 0 1 16 9.07v4.286a.5.5 0 0 1-.252.434l-3.75 2.143a.5.5 0 0 1-.496 0l-3.502-2-3.502 2a.5.5 0 0 1-.496 0l-3.75-2.143A.5.5 0 0 1 0 13.357V9.071a.5.5 0 0 1 .252-.434L3.75 6.638V2.643a.5.5 0 0 1 .252-.434L7.752.066ZM4.25 7.504 1.508 9.071l2.742 1.567 2.742-1.567L4.25 7.504ZM7.5 9.933l-2.75 1.571v3.134l2.75-1.571V9.933Zm1 3.134 2.75 1.571v-3.134L8.5 9.933v3.134Zm.508-3.996 2.742 1.567 2.742-1.567-2.742-1.567-2.742 1.567Zm2.242-2.433V3.504L8.5 5.076V8.21l2.75-1.572ZM7.5 8.21V5.076L4.75 3.504v3.134L7.5 8.21ZM5.258 2.643 8 4.21l2.742-1.567L8 1.076 5.258 2.643ZM15 9.933l-2.75 1.571v3.134L15 13.067V9.933ZM3.75 14.638v-3.134L1 9.933v3.134l2.75 1.571Z"/>
            </svg>
            <p>尚未添加任何模块</p>
            <p class="hint-text">请从上方选择模块类型并添加</p>
          </div>
        </div>
      </div>

      <!-- 模块模板库 (隐藏) -->
      <div id="moduleTemplates" class="visually-hidden">
        <!-- 固定模块-九宫格抽奖模板 -->
        <div class="module-template" id="lotteryModuleTemplate">
          <div class="module-header">
            <div class="module-title">九宫格抽奖</div>
            <div class="module-controls">
              <button class="control-btn move-up-btn" title="上移">
                <svg><use href="#icon-move-up"/></svg>
              </button>
              <button class="control-btn move-down-btn" title="下移">
                <svg><use href="#icon-move-down"/></svg>
              </button>
              <button class="control-btn collapse-btn" title="展开/收起">
                <svg><use href="#icon-collapse"/></svg>
              </button>
              <button class="control-btn delete-btn" title="删除">
                <svg><use href="#icon-delete"/></svg>
              </button>
            </div>
          </div>
          <div class="module-content">
            <!-- 大标题 -->
            <div class="form-group row-layout">
              <label for="bigTitleInput">大标题</label>
              <input type="text" id="bigTitleInput" class="text-input big-title-input" placeholder="请输入大标题文本">
            </div>
            
            <!-- 标题背景 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">大标题背景</label>
              <div class="file-upload-btn">
                <input type="file" class="derived-item-upload hidden-file-input" accept="image/*" title="选择大标题背景图片" aria-label="大标题背景图片上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
            
            <!-- 九宫格背景 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">九宫格背景</label>
              <div class="file-upload-btn">
                <input type="file" class="nine-grid-bg hidden-file-input" accept="image/*" title="选择九宫格背景图片" aria-label="九宫格背景图片上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>

            <!-- 抽奖按钮 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">抽奖按钮</label>
              <div class="file-upload-btn">
                <input type="file" class="draw-btn hidden-file-input" accept="image/*" title="选择抽奖按钮图片" aria-label="抽奖按钮图片上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>

            <!-- 奖品背景 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">奖品背景</label>
              <div class="file-upload-btn">
                <input type="file" class="prize-bg hidden-file-input" accept="image/*" title="选择奖品背景图片" aria-label="奖品背景图片上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
            
            <!-- 奖品图 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">奖品图</label>
              <div class="prize-grid-custom">
                <!-- 第一行：3个奖品 -->
                <div class="prize-row top-row">
                  <div class="grid-item">
                    <div class="img-upload-container">
                      <input type="file" accept="image/*" class="prize-upload hidden-file-input" title="选择奖品01图片" aria-label="奖品01图片上传" onchange="previewImage(this, this.nextElementSibling.querySelector('.preview-container'))">
                      <button class="grid-btn" onclick="this.previousElementSibling.click()">
                        <div class="preview-container"></div>
                        <span class="upload-icon">+</span>
                      </button>
                      <div class="prize-label">奖品01</div>
                    </div>
                  </div>
                  <div class="grid-item">
                    <div class="img-upload-container">
                      <input type="file" accept="image/*" class="prize-upload hidden-file-input" title="选择奖品02图片" aria-label="奖品02图片上传" onchange="previewImage(this, this.nextElementSibling.querySelector('.preview-container'))">
                      <button class="grid-btn" onclick="this.previousElementSibling.click()">
                        <div class="preview-container"></div>
                        <span class="upload-icon">+</span>
                      </button>
                      <div class="prize-label">奖品02</div>
                    </div>
                  </div>
                  <div class="grid-item">
                    <div class="img-upload-container">
                      <input type="file" accept="image/*" class="prize-upload hidden-file-input" title="选择奖品03图片" aria-label="奖品03图片上传" onchange="previewImage(this, this.nextElementSibling.querySelector('.preview-container'))">
                      <button class="grid-btn" onclick="this.previousElementSibling.click()">
                        <div class="preview-container"></div>
                        <span class="upload-icon">+</span>
                      </button>
                      <div class="prize-label">奖品03</div>
                    </div>
                  </div>
                </div>
                
                <!-- 第二行：2个奖品 -->
                <div class="prize-row middle-row">
                  <div class="grid-item">
                    <div class="img-upload-container">
                      <input type="file" accept="image/*" class="prize-upload hidden-file-input" title="选择奖品04图片" aria-label="奖品04图片上传" onchange="previewImage(this, this.nextElementSibling.querySelector('.preview-container'))">
                      <button class="grid-btn" onclick="this.previousElementSibling.click()">
                        <div class="preview-container"></div>
                        <span class="upload-icon">+</span>
                      </button>
                      <div class="prize-label">奖品04</div>
                    </div>
                  </div>
                  <div class="grid-item">
                    <div class="img-upload-container">
                      <input type="file" accept="image/*" class="prize-upload hidden-file-input" title="选择奖品05图片" aria-label="奖品05图片上传" onchange="previewImage(this, this.nextElementSibling.querySelector('.preview-container'))">
                      <button class="grid-btn" onclick="this.previousElementSibling.click()">
                        <div class="preview-container"></div>
                        <span class="upload-icon">+</span>
                      </button>
                      <div class="prize-label">奖品05</div>
                    </div>
                  </div>
                </div>
                
                <!-- 第三行：2个奖品 + 谢谢参与 -->
                <div class="prize-row bottom-row">
                  <div class="grid-item">
                    <div class="img-upload-container">
                      <input type="file" accept="image/*" class="prize-upload hidden-file-input" title="选择奖品06图片" aria-label="奖品06图片上传" onchange="previewImage(this, this.nextElementSibling.querySelector('.preview-container'))">
                      <button class="grid-btn" onclick="this.previousElementSibling.click()">
                        <div class="preview-container"></div>
                        <span class="upload-icon">+</span>
                      </button>
                      <div class="prize-label">奖品06</div>
                    </div>
                  </div>
                  <div class="grid-item">
                    <div class="img-upload-container">
                      <input type="file" accept="image/*" class="prize-upload hidden-file-input" title="选择奖品07图片" aria-label="奖品07图片上传" onchange="previewImage(this, this.nextElementSibling.querySelector('.preview-container'))">
                      <button class="grid-btn" onclick="this.previousElementSibling.click()">
                        <div class="preview-container"></div>
                        <span class="upload-icon">+</span>
                      </button>
                      <div class="prize-label">奖品07</div>
                    </div>
                  </div>
                  <div class="grid-item">
                    <div class="img-upload-container">
                      <input type="file" accept="image/*" class="prize-upload hidden-file-input" title="选择谢谢参与图片" aria-label="谢谢参与图片上传" onchange="previewImage(this, this.nextElementSibling.querySelector('.preview-container'))">
                      <button class="grid-btn" onclick="this.previousElementSibling.click()">
                        <div class="preview-container"></div>
                        <span class="upload-icon">+</span>
                      </button>
                      <div class="prize-label">谢谢参与</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 固定模块-图片轮播（横版）模板 -->
        <div class="module-template" id="carouselModuleTemplate">
          <div class="module-header">
            <div class="module-title">图片轮播（横版）</div>
            <div class="module-controls">
              <button class="control-btn move-up-btn" title="上移">
                <svg><use href="#icon-move-up"/></svg>
              </button>
              <button class="control-btn move-down-btn" title="下移">
                <svg><use href="#icon-move-down"/></svg>
              </button>
              <button class="control-btn collapse-btn" title="展开/收起">
                <svg><use href="#icon-collapse"/></svg>
              </button>
              <button class="control-btn delete-btn" title="删除">
                <svg><use href="#icon-delete"/></svg>
              </button>
            </div>
          </div>
          <div class="module-content">
            <!-- 标题文案 -->
            <div class="form-group row-layout">
              <label>标题</label>
              <input type="text" class="carousel-title-input text-input" placeholder="请输入标题文本">
            </div>
            
            <!-- 标题背景 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">标题背景</label>
              <div class="file-upload-btn">
                <input type="file" class="carousel-title-bg-upload hidden-file-input" accept="image/*" title="选择标题背景图片" aria-label="标题背景图片上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>

            <!-- 轮播图 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">轮播图</label>
              <div class="file-upload-btn">
                <input type="file" class="carousel-image-upload hidden-file-input" accept="image/*" title="选择轮播图片" aria-label="轮播图片上传">
                <button class="upload-btn carousel-image-upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>

            <!-- 轮播图背景 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">轮播图背景</label>
              <div class="file-upload-btn">
                <input type="file" class="carousel-image-bg-upload hidden-file-input" accept="image/*" title="选择轮播图背景图片" aria-label="轮播图背景图片上传">
                <button class="upload-btn carousel-image-bg-upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>

          </div>
        </div>


        <!-- 固定模块-签到模板 -->
        <div class="module-template" id="signInModuleTemplate">
          <div class="module-header">
            <div class="module-title">每日签到</div>
            <div class="module-controls">
              <button class="control-btn move-up-btn" title="上移">
                <svg><use href="#icon-move-up"/></svg>
              </button>
              <button class="control-btn move-down-btn" title="下移">
                <svg><use href="#icon-move-down"/></svg>
              </button>
              <button class="control-btn collapse-btn" title="展开/收起">
                <svg><use href="#icon-collapse"/></svg>
              </button>
              <button class="control-btn delete-btn" title="删除">
                <svg><use href="#icon-delete"/></svg>
              </button>
            </div>
          </div>
          <div class="module-content">
            <!-- 签到标题 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">标题图片</label>
              <div class="file-upload-btn">
                <input type="file" class="sign-in-title-upload" accept="image/*" title="选择图片文件" aria-label="图片文件上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
            
            <!-- 签到背景 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">背景图片</label>
              <div class="file-upload-btn">
                <input type="file" class="sign-in-bg-upload" accept="image/*" title="选择图片文件" aria-label="图片文件上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
            
            <!-- 签到天数 -->
            <div class="form-group row-layout">
              <label for="signInDaysCount">签到天数</label>
              <input type="number" id="signInDaysCount" class="days-count number-input" value="7" min="3" max="31" title="设置签到活动天数" aria-label="签到天数输入框">
            </div>
            
            <!-- 日期图标 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">日期图标</label>
              <div class="file-upload-btn">
                <input type="file" class="day-icon-upload" accept="image/*" title="选择图片文件" aria-label="图片文件上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
            
            <!-- 签到按钮 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">签到按钮</label>
              <div class="file-upload-btn">
                <input type="file" class="sign-in-btn-upload" accept="image/*" title="选择图片文件" aria-label="图片文件上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 固定模块-集卡模板 -->
        <div class="module-template" id="collectModuleTemplate">
          <div class="module-header">
            <div class="module-title">集卡活动</div>
            <div class="module-controls">
              <button class="control-btn move-up-btn" title="上移">
                <svg><use href="#icon-move-up"/></svg>
              </button>
              <button class="control-btn move-down-btn" title="下移">
                <svg><use href="#icon-move-down"/></svg>
              </button>
              <button class="control-btn collapse-btn" title="展开/收起">
                <svg><use href="#icon-collapse"/></svg>
              </button>
              <button class="control-btn delete-btn" title="删除">
                <svg><use href="#icon-delete"/></svg>
              </button>
            </div>
          </div>
          <div class="module-content">
            <!-- 集卡标题 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">集卡标题</label>
              <div class="file-upload-btn">
                <input type="file" class="collect-title-upload" accept="image/*" title="选择图片文件" aria-label="图片文件上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
            
            <!-- 集卡背景 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">背景图片</label>
              <div class="file-upload-btn">
                <input type="file" class="collect-bg-upload" accept="image/*" title="选择图片文件" aria-label="图片文件上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
            
            <!-- 卡片数量 -->
            <div class="form-group row-layout">
              <label for="collectCardsCount">卡片数量</label>
              <input type="number" id="collectCardsCount" class="cards-count number-input" value="5" min="3" max="12" title="设置集卡活动卡片数量" aria-label="卡片数量输入框">
            </div>
            
            <!-- 卡片样式 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">卡片样式</label>
              <div class="radio-group row-layout">
                <div class="radio-item">
                  <input type="radio" id="cardStyle1" name="cardStyle" value="style1" checked title="选择方形卡片样式" aria-label="方形卡片样式">
                  <label for="cardStyle1">方形</label>
                </div>
                <div class="radio-item">
                  <input type="radio" id="cardStyle2" name="cardStyle" value="style2" title="选择圆角卡片样式" aria-label="圆角卡片样式">
                  <label for="cardStyle2">圆角</label>
                </div>
                <div class="radio-item">
                  <input type="radio" id="cardStyle3" name="cardStyle" value="style3" title="选择自定义卡片样式" aria-label="自定义卡片样式">
                  <label for="cardStyle3">自定义</label>
                </div>
              </div>
            </div>
            
            <!-- 卡片背景 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">卡片背景</label>
              <div class="file-upload-btn">
                <input type="file" class="card-bg-upload" accept="image/*" title="选择图片文件" aria-label="图片文件上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
            
            <!-- 合成按钮 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">合成按钮</label>
              <div class="file-upload-btn">
                <input type="file" class="combine-button-upload" accept="image/*" title="选择图片文件" aria-label="图片文件上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- 活动详情模板 -->
        <div class="module-template" id="activityContentModuleTemplate">
          <div class="module-header">
            <div class="module-title">活动详情</div>
            <div class="module-controls">
              <button class="control-btn move-up-btn" title="上移">
                <svg><use href="#icon-move-up"/></svg>
              </button>
              <button class="control-btn move-down-btn" title="下移">
                <svg><use href="#icon-move-down"/></svg>
              </button>
              <button class="control-btn collapse-btn" title="展开/收起">
                <svg><use href="#icon-collapse"/></svg>
              </button>
              <button class="control-btn delete-btn" title="删除">
                <svg><use href="#icon-delete"/></svg>
              </button>
            </div>
          </div>
          <div class="module-content">
            <!-- 大标题文案 -->
            <div class="form-group row-layout">
              <label>大标题</label>
              <input type="text" class="activity-content-main-title-input text-input" placeholder="请输入大标题文本">
            </div>
            
            <!-- 大标题背景 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">大标题背景</label>
              <div class="file-upload-btn">
                <input type="file" class="activity-content-main-title-bg-upload hidden-file-input" accept="image/*" title="选择大标题背景图片" aria-label="大标题背景图片上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>

            <!-- 小标题文案 -->
            <div class="form-group row-layout">
              <label>小标题</label>
              <input type="text" class="activity-content-sub-title-input text-input" placeholder="请输入小标题文本">
            </div>

            <!-- 小标题背景 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">小标题背景</label>
              <div class="file-upload-btn">
                <input type="file" class="activity-content-sub-title-bg-upload hidden-file-input" accept="image/*" title="选择小标题背景图片" aria-label="小标题背景图片上传">
                <button class="upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
            
            <!-- 正文内容 -->
            <div class="form-group row-layout">
              <label>正文</label>
              <textarea class="activity-content-text-input text-area" placeholder="请输入活动详情内容"></textarea>
            </div>

            <!-- 插图 -->
            <div class="form-group row-layout">
              <label class="non-interactive-label">插图</label>
              <div class="file-upload-btn">
                <input type="file" class="activity-content-image-upload hidden-file-input" accept="image/*" title="选择插图图片" aria-label="插图图片上传">
                <button class="upload-btn activity-content-image-upload-btn" onclick="this.previousElementSibling.click()">
                  <div class="img-preview-inline">
                    <span class="upload-icon-inline">+</span>
                  </div>
                </button>
              </div>
            </div>
          </div>
        </div>
        <!-- 更多模板可继续添加 -->
      </div>

      <!-- 活动规则板块 -->
      <div class="form-section">
        <!-- 活动规则标题 -->
        <div class="section-header">
          <span class="section-title">活动规则</span>
          <div class="option-controls">
            <button class="control-btn collapse-btn" data-target="rulesContent" title="折叠/展开活动规则板块" aria-label="折叠/展开活动规则板块">
              <svg width="12" height="7"><use href="#icon-chevron"/></svg>
            </button>
          </div>
        </div>
        
        <!-- 活动规则内容容器 -->
        <div id="rulesContent" class="collapsible-content">

          <!-- 标题文案 -->
          <div class="form-group row-layout">
            <label class="non-interactive-label">标题文案</label>
            <input type="text" id="rulesTitle" class="text-input" placeholder="请输入标题文案">
          </div>

          <!-- 标题背景 -->
          <div class="form-group row-layout">
            <label class="non-interactive-label">标题背景</label>
            <div class="file-upload-btn">
              <input type="file" id="rulesBgUpload" accept="image/*" class="hidden-file-input" title="选择活动规则标题背景图片" aria-label="活动规则标题背景图片上传">
              <button class="upload-btn" onclick="document.getElementById('rulesBgUpload').click()">
                <div class="img-preview-inline">
                  <span class="upload-icon-inline">+</span>
                </div>
              </button>
            </div>
          </div>
          
          <!-- 活动规则内容 -->
          <div class="form-group row-layout">
            <label for="rulesTextarea">活动规则</label>
            <textarea id="rulesTextarea" class="text-area" placeholder="请输入活动规则内容" title="输入活动规则内容" aria-label="活动规则内容输入框"></textarea>
          </div>
          
        </div>
      </div>

      <!-- 尾版板块 -->
      <div class="form-section">
        <!-- 尾版标题 -->
        <div class="section-header">
          <span class="section-title">尾版</span>
          <div class="option-controls">
            <button class="control-btn collapse-btn" data-target="footerAreaContent" title="折叠/展开尾版板块" aria-label="折叠/展开尾版板块">
              <svg width="12" height="7"><use href="#icon-chevron"/></svg>
            </button>
          </div>
        </div>
        
        <!-- 尾版内容容器 -->
        <div id="footerAreaContent" class="collapsible-content">
          <!-- LOGO -->
          <div class="form-group row-layout">
            <label class="non-interactive-label">LOGO</label>
            <div class="file-upload-btn">
              <input type="file" id="footerLogoUpload" accept="image/*" class="hidden-file-input" title="选择尾版LOGO图片" aria-label="尾版LOGO图片上传" onchange="previewImage(this, this.nextElementSibling.querySelector('.img-preview-inline'))">
              <button class="upload-btn" onclick="document.getElementById('footerLogoUpload').click()">
                <div class="img-preview-inline">
                  <span class="upload-icon-inline">+</span>
                </div>
              </button>
            </div>
          </div>
          
          <!-- 尾版背景 -->
          <div class="form-group row-layout">
            <label class="non-interactive-label">尾版背景</label>
            <div class="file-upload-btn">
              <input type="file" id="footerBgUpload" accept="image/*" class="hidden-file-input" title="选择尾版背景图片" aria-label="尾版背景图片上传">
              <button class="upload-btn" onclick="document.getElementById('footerBgUpload').click()">
                <div class="img-preview-inline">
                  <span class="upload-icon-inline">+</span>
                </div>
              </button>
            </div>
          </div>
          
        </div>
      </div>

      <!-- 创建按钮容器 -->
      <div class="create-btn-container">
        <div class="button-group">
          <button class="create-btn" id="create">创建原型</button>
          <button class="reset-btn" id="reset">重置</button>
        </div>
      </div>
    </div>

    <!-- 延展渠道内容 -->
    <div class="tab-content" id="extension-content">
      <!-- 渠道列表视图 -->
      <div class="channels-container" id="channelsMainView">
        <!-- OPPO渠道 -->
        <div class="channel-section">
          <div class="channel-header">
            <h3 class="channel-title">OPPO</h3>
            <button class="channel-settings-btn" onclick="showChannelSettings('oppo')" title="渠道设置">
              ⚙️
            </button>
          </div>
          <div class="channel-content">
            <div class="channel-preview-container">
              <div class="channel-preview-area" id="oppo-preview">
                <div class="channel-preview-placeholder">
                  <span>预览内容将在此显示</span>
                </div>
              </div>
              <button class="channel-preview-btn" onclick="previewChannel('oppo')">预览</button>
            </div>
            <button class="channel-generate-btn" onclick="generateChannel('oppo')">生成 OPPO 版本</button>
          </div>
        </div>

        <!-- VIVO渠道 -->
        <div class="channel-section">
          <div class="channel-header">
            <h3 class="channel-title">VIVO</h3>
            <button class="channel-settings-btn" onclick="showChannelSettings('vivo')" title="渠道设置">
              ⚙️
            </button>
          </div>
          <div class="channel-content">
            <div class="channel-preview-container">
              <div class="channel-preview-area" id="vivo-preview">
                <div class="channel-preview-placeholder">
                  <span>预览内容将在此显示</span>
                </div>
              </div>
              <button class="channel-preview-btn" onclick="previewChannel('vivo')">预览</button>
            </div>
            <button class="channel-generate-btn" onclick="generateChannel('vivo')">生成 VIVO 版本</button>
          </div>
        </div>

        <!-- 华为渠道 -->
        <div class="channel-section">
          <div class="channel-header">
            <h3 class="channel-title">华为</h3>
            <button class="channel-settings-btn" onclick="showChannelSettings('huawei')" title="渠道设置">
              ⚙️
            </button>
          </div>
          <div class="channel-content">
            <div class="channel-preview-container">
              <div class="channel-preview-area" id="huawei-preview">
                <div class="channel-preview-placeholder">
                  <span>预览内容将在此显示</span>
                </div>
              </div>
              <button class="channel-preview-btn" onclick="previewChannel('huawei')">预览</button>
            </div>
            <button class="channel-generate-btn" onclick="generateChannel('huawei')">生成华为版本</button>
          </div>
        </div>

        <!-- 小米渠道 -->
        <div class="channel-section">
          <div class="channel-header">
            <h3 class="channel-title">小米</h3>
            <button class="channel-settings-btn" onclick="showChannelSettings('xiaomi')" title="渠道设置">
              ⚙️
            </button>
          </div>
          <div class="channel-content">
            <div class="channel-preview-container">
              <div class="channel-preview-area" id="xiaomi-preview">
                <div class="channel-preview-placeholder">
                  <span>预览内容将在此显示</span>
                </div>
              </div>
              <button class="channel-preview-btn" onclick="previewChannel('xiaomi')">预览</button>
            </div>
            <button class="channel-generate-btn" onclick="generateChannel('xiaomi')">生成小米版本</button>
          </div>
        </div>
      </div>

      <!-- 渠道设置视图 -->
      <div class="channel-settings-view hidden" id="channelSettingsView">
        <!-- 设置页头部 -->
        <div class="settings-header">
          <button class="back-btn" onclick="backToChannelsList()" title="返回渠道列表" aria-label="返回渠道列表">
            <svg><use href="#icon-back"/></svg>
          </button>
          <h2 class="settings-title" id="settingsTitle">渠道设置</h2>
          <div></div> <!-- 占位元素保持居中平衡 -->
        </div>

        <!-- 设置内容区域 -->
        <div class="settings-content" id="settingsContent">
          <!-- 动态内容将在这里插入 -->
        </div>
      </div>
    </div>
    
    <!-- 工具集内容 -->
    <div class="tab-content" id="tools-content">
      <div class="empty-state">
        <h3>工具库开发中</h3>
        <p>更多实用设计工具正在开发中</p>
        <p class="gray-text">敬请期待</p>
      </div>
    </div>

    <!-- 设置内容 -->
    <div class="tab-content" id="settings-content">
      <div class="form-section">
        <!-- 主题切换 -->
        <div class="form-group row-layout theme-switcher">
          <label>切换主题</label>
          <div class="theme-buttons">
            <button id="lightTheme" class="theme-btn active" data-theme="light">
              <!-- <i class="bi bi-sun"></i> -->
              <span>浅色模式</span>
            </button>
            <button id="darkTheme" class="theme-btn" data-theme="dark">
              <!-- <i class="bi bi-moon"></i> -->
              <span>深色模式</span>
            </button>
          </div>
        </div>
      </div>

    </div>

  </div>
  
  <!-- 页脚版本信息 -->
  <div class="page-footer">
    <div class="version-info">
      <span class="version-number">1.0.0</span>
      <span class="version-author">渠道美术制作</span>
    </div>
  </div>

  <script>

// CDN资源加载器
async function loadExternalResource(url, type) {
  return new Promise((resolve, reject) => {
    const element = type === 'css' 
      ? document.createElement('link') 
      : document.createElement('script');
    
    if (type === 'css') {
      element.rel = 'stylesheet';
      element.href = url;
    } else {
      element.src = url;
    }
    
    const timeout = setTimeout(() => {
      reject(new Error(`资源加载超时: ${url}`));
    }, 10000);
    
    element.onload = () => {
      clearTimeout(timeout);
      resolve();
    };
    
    element.onerror = () => {
      clearTimeout(timeout);
      reject(new Error(`资源加载失败: ${url}`));
    };
    
    document.head.appendChild(element);
  });
}

// 创建备用样式
function createFallbackUI() {
  const style = document.createElement('style');
  style.textContent = `
    body { font-family: sans-serif; margin: 0; padding: 20px; }
    .container { max-width: 400px; margin: 0 auto; }
    /* 其他基础样式... */
  `;
  document.head.appendChild(style);
  console.log('✅ 应急样式已加载');
}

// 智能资源加载
async function loadResources() {
  try {
    await loadExternalResource('https://cdn.jsdelivr.net/gh/kw-96/H5Tools@main/dist/styles.min.css', 'css')
      .catch(err => {
        console.warn(`⚠️ CSS加载失败: ${err.message}`);
        createFallbackUI();
      });
      
    await loadExternalResource('https://cdn.jsdelivr.net/gh/kw-96/H5Tools@main/dist/scripts.min.js', 'js')
      .catch(err => {
        console.error(`❌ JS加载失败: ${err.message}`);
        throw err;
      });
      
    console.log('✅ CDN资源加载完成');
  } catch (error) {
    console.error(`❌ 资源加载失败: ${error.message}`);
  }
}

// 初始化加载
document.addEventListener('DOMContentLoaded', loadResources);

</script>
</body>
</html> 