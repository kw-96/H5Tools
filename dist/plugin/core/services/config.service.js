import{__awaiter as t}from"../../node_modules/tslib/tslib.es6.js";import{StorageService as o}from"./storage.service.js";class e{static saveConfig(o){return t(this,void 0,void 0,function*(){try{const t=JSON.stringify(o);this.storage.setItem(this.STORAGE_KEY,t)}catch(t){throw console.error("保存配置失败:",t),new Error("保存配置失败")}})}static loadConfig(){return t(this,void 0,void 0,function*(){try{const t=this.storage.getItem(this.STORAGE_KEY);return t?JSON.parse(t):null}catch(t){return console.error("加载配置失败:",t),null}})}static clearConfig(){return t(this,void 0,void 0,function*(){try{this.storage.removeItem(this.STORAGE_KEY)}catch(t){console.error("清除配置失败:",t)}})}static validateConfig(t){var o,e,n,i,l,r;const s=[];switch((null===(o=t.pageTitle)||void 0===o?void 0:o.trim())||s.push("页面标题不能为空"),(null===(e=t.gameName)||void 0===e?void 0:e.trim())||s.push("游戏名称不能为空"),t.buttonVersion||s.push("请选择按钮版本"),t.buttonVersion){case"icon":(null===(n=t.iconButtonText)||void 0===n?void 0:n.trim())||s.push("带图标按钮文本不能为空");break;case"single":(null===(i=t.singleButtonText)||void 0===i?void 0:i.trim())||s.push("单按钮文本不能为空");break;case"double":(null===(l=t.leftButtonText)||void 0===l?void 0:l.trim())||s.push("左侧按钮文本不能为空"),(null===(r=t.rightButtonText)||void 0===r?void 0:r.trim())||s.push("右侧按钮文本不能为空")}return{isValid:0===s.length,errors:s}}static createDefaultConfig(){return{pageTitle:"活动页面",pageBgColor:"#ffffff",pageBgImage:null,headerImage:null,titleUpload:null,gameIcon:null,gameName:"游戏名称",gameDesc:"游戏描述",gameTextColor:"#333333",buttonVersion:"single",iconButtonText:"立即下载",iconButtonTextColor:"#ffffff",iconButtonBg:null,singleButtonText:"立即下载",singleButtonTextColor:"#ffffff",singleButtonBg:null,leftButtonText:"预约游戏",leftButtonTextColor:"#ffffff",leftButtonBg:null,rightButtonText:"立即下载",rightButtonTextColor:"#ffffff",rightButtonBg:null,buttonSpacing:20,modules:[],rulesTitle:"活动规则",rulesBgImage:null,rulesContent:"请填写活动规则内容",footerLogo:null,footerBg:null,canvasWidth:1080,canvasHeight:1920}}}e.STORAGE_KEY="h5-tools-config",e.storage=o.getInstance();export{e as ConfigService};
//# sourceMappingURL=config.service.js.map
